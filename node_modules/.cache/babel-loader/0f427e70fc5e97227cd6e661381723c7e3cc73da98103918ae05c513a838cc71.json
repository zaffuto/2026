{"ast":null,"code":"import { markToTrack, getUntracked } from 'proxy-compare';\n\n// src/global.ts\nfunction glob() {\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  if (typeof self !== \"undefined\") return self;\n  if (typeof window !== \"undefined\") return window;\n  if (typeof global !== \"undefined\") return global;\n}\nfunction globalRef(key, value) {\n  const g = glob();\n  if (!g) return value();\n  g[key] || (g[key] = value());\n  return g[key];\n}\nvar refSet = globalRef(\"__zag__refSet\", () => /* @__PURE__ */new WeakSet());\n\n// src/utils.ts\nvar isReactElement = x => typeof x === \"object\" && x !== null && \"$$typeof\" in x && \"props\" in x;\nvar isVueElement = x => typeof x === \"object\" && x !== null && \"__v_isVNode\" in x;\nvar isDOMElement = x => typeof x === \"object\" && x !== null && \"nodeType\" in x && typeof x.nodeName === \"string\";\nvar isElement = x => isReactElement(x) || isVueElement(x) || isDOMElement(x);\nvar isObject = x => x !== null && typeof x === \"object\";\nvar canProxy = x => isObject(x) && !refSet.has(x) && (Array.isArray(x) || !(Symbol.iterator in x)) && !isElement(x) && !(x instanceof WeakMap) && !(x instanceof WeakSet) && !(x instanceof Error) && !(x instanceof Number) && !(x instanceof Date) && !(x instanceof String) && !(x instanceof RegExp) && !(x instanceof ArrayBuffer) && !(x instanceof Promise);\nvar isDev = () => process.env.NODE_ENV !== \"production\";\n\n// src/clone.ts\nfunction set(obj, key, val) {\n  if (typeof val.value === \"object\" && !canProxy(val.value)) val.value = clone(val.value);\n  if (!val.enumerable || val.get || val.set || !val.configurable || !val.writable || key === \"__proto__\") {\n    Object.defineProperty(obj, key, val);\n  } else obj[key] = val.value;\n}\nfunction clone(x) {\n  if (typeof x !== \"object\") return x;\n  var i = 0,\n    k,\n    list,\n    tmp,\n    str = Object.prototype.toString.call(x);\n  if (str === \"[object Object]\") {\n    tmp = Object.create(Object.getPrototypeOf(x) || null);\n  } else if (str === \"[object Array]\") {\n    tmp = Array(x.length);\n  } else if (str === \"[object Set]\") {\n    tmp = /* @__PURE__ */new Set();\n    x.forEach(function (val) {\n      tmp.add(clone(val));\n    });\n  } else if (str === \"[object Map]\") {\n    tmp = /* @__PURE__ */new Map();\n    x.forEach(function (val, key) {\n      tmp.set(clone(key), clone(val));\n    });\n  } else if (str === \"[object Date]\") {\n    tmp = /* @__PURE__ */new Date(+x);\n  } else if (str === \"[object RegExp]\") {\n    tmp = new RegExp(x.source, x.flags);\n  } else if (str === \"[object DataView]\") {\n    tmp = new x.constructor(clone(x.buffer));\n  } else if (str === \"[object ArrayBuffer]\") {\n    tmp = x.slice(0);\n  } else if (str === \"[object Blob]\") {\n    tmp = x.slice();\n  } else if (str.slice(-6) === \"Array]\") {\n    tmp = new x.constructor(x);\n  }\n  if (tmp) {\n    for (list = Object.getOwnPropertySymbols(x); i < list.length; i++) {\n      set(tmp, list[i], Object.getOwnPropertyDescriptor(x, list[i]));\n    }\n    for (i = 0, list = Object.getOwnPropertyNames(x); i < list.length; i++) {\n      if (Object.hasOwnProperty.call(tmp, k = list[i]) && tmp[k] === x[k]) continue;\n      set(tmp, k, Object.getOwnPropertyDescriptor(x, k));\n    }\n  }\n  return tmp || x;\n}\nvar proxyStateMap = globalRef(\"__zag__proxyStateMap\", () => /* @__PURE__ */new WeakMap());\nvar buildProxyFunction = (objectIs = Object.is, newProxy = (target, handler) => new Proxy(target, handler), snapCache = /* @__PURE__ */new WeakMap(), createSnapshot = (target, version) => {\n  const cache = snapCache.get(target);\n  if (cache?.[0] === version) {\n    return cache[1];\n  }\n  const snap = Array.isArray(target) ? [] : Object.create(Object.getPrototypeOf(target));\n  markToTrack(snap, true);\n  snapCache.set(target, [version, snap]);\n  Reflect.ownKeys(target).forEach(key => {\n    const value = Reflect.get(target, key);\n    if (refSet.has(value)) {\n      markToTrack(value, false);\n      snap[key] = value;\n    } else if (proxyStateMap.has(value)) {\n      snap[key] = snapshot(value);\n    } else {\n      snap[key] = value;\n    }\n  });\n  return Object.freeze(snap);\n}, proxyCache = /* @__PURE__ */new WeakMap(), versionHolder = [1, 1], proxyFunction2 = initialObject => {\n  if (!isObject(initialObject)) {\n    throw new Error(\"object required\");\n  }\n  const found = proxyCache.get(initialObject);\n  if (found) {\n    return found;\n  }\n  let version = versionHolder[0];\n  const listeners = /* @__PURE__ */new Set();\n  const notifyUpdate = (op, nextVersion = ++versionHolder[0]) => {\n    if (version !== nextVersion) {\n      version = nextVersion;\n      listeners.forEach(listener => listener(op, nextVersion));\n    }\n  };\n  let checkVersion = versionHolder[1];\n  const ensureVersion = (nextCheckVersion = ++versionHolder[1]) => {\n    if (checkVersion !== nextCheckVersion && !listeners.size) {\n      checkVersion = nextCheckVersion;\n      propProxyStates.forEach(([propProxyState]) => {\n        const propVersion = propProxyState[1](nextCheckVersion);\n        if (propVersion > version) {\n          version = propVersion;\n        }\n      });\n    }\n    return version;\n  };\n  const createPropListener = prop => (op, nextVersion) => {\n    const newOp = [...op];\n    newOp[1] = [prop, ...newOp[1]];\n    notifyUpdate(newOp, nextVersion);\n  };\n  const propProxyStates = /* @__PURE__ */new Map();\n  const addPropListener = (prop, propProxyState) => {\n    if (isDev() && propProxyStates.has(prop)) {\n      throw new Error(\"prop listener already exists\");\n    }\n    if (listeners.size) {\n      const remove = propProxyState[3](createPropListener(prop));\n      propProxyStates.set(prop, [propProxyState, remove]);\n    } else {\n      propProxyStates.set(prop, [propProxyState]);\n    }\n  };\n  const removePropListener = prop => {\n    const entry = propProxyStates.get(prop);\n    if (entry) {\n      propProxyStates.delete(prop);\n      entry[1]?.();\n    }\n  };\n  const addListener = listener => {\n    listeners.add(listener);\n    if (listeners.size === 1) {\n      propProxyStates.forEach(([propProxyState, prevRemove], prop) => {\n        if (isDev() && prevRemove) {\n          throw new Error(\"remove already exists\");\n        }\n        const remove = propProxyState[3](createPropListener(prop));\n        propProxyStates.set(prop, [propProxyState, remove]);\n      });\n    }\n    const removeListener = () => {\n      listeners.delete(listener);\n      if (listeners.size === 0) {\n        propProxyStates.forEach(([propProxyState, remove], prop) => {\n          if (remove) {\n            remove();\n            propProxyStates.set(prop, [propProxyState]);\n          }\n        });\n      }\n    };\n    return removeListener;\n  };\n  const baseObject = Array.isArray(initialObject) ? [] : Object.create(Object.getPrototypeOf(initialObject));\n  const handler = {\n    deleteProperty(target, prop) {\n      const prevValue = Reflect.get(target, prop);\n      removePropListener(prop);\n      const deleted = Reflect.deleteProperty(target, prop);\n      if (deleted) {\n        notifyUpdate([\"delete\", [prop], prevValue]);\n      }\n      return deleted;\n    },\n    set(target, prop, value, receiver) {\n      const hasPrevValue = Reflect.has(target, prop);\n      const prevValue = Reflect.get(target, prop, receiver);\n      if (hasPrevValue && (objectIs(prevValue, value) || proxyCache.has(value) && objectIs(prevValue, proxyCache.get(value)))) {\n        return true;\n      }\n      removePropListener(prop);\n      if (isObject(value)) {\n        value = getUntracked(value) || value;\n      }\n      let nextValue = value;\n      if (Object.getOwnPropertyDescriptor(target, prop)?.set) ;else {\n        if (!proxyStateMap.has(value) && canProxy(value)) {\n          nextValue = proxy(value);\n        }\n        const childProxyState = !refSet.has(nextValue) && proxyStateMap.get(nextValue);\n        if (childProxyState) {\n          addPropListener(prop, childProxyState);\n        }\n      }\n      Reflect.set(target, prop, nextValue, receiver);\n      notifyUpdate([\"set\", [prop], value, prevValue]);\n      return true;\n    }\n  };\n  const proxyObject = newProxy(baseObject, handler);\n  proxyCache.set(initialObject, proxyObject);\n  const proxyState = [baseObject, ensureVersion, createSnapshot, addListener];\n  proxyStateMap.set(proxyObject, proxyState);\n  Reflect.ownKeys(initialObject).forEach(key => {\n    const desc = Object.getOwnPropertyDescriptor(initialObject, key);\n    if (desc.get || desc.set) {\n      Object.defineProperty(baseObject, key, desc);\n    } else {\n      proxyObject[key] = initialObject[key];\n    }\n  });\n  return proxyObject;\n}) => [\n// public functions\nproxyFunction2,\n// shared state\nproxyStateMap, refSet,\n// internal things\nobjectIs, newProxy, canProxy, snapCache, createSnapshot, proxyCache, versionHolder];\nvar [proxyFunction] = buildProxyFunction();\nfunction proxy(initialObject = {}) {\n  return proxyFunction(initialObject);\n}\nfunction subscribe(proxyObject, callback, notifyInSync) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  if (isDev() && !proxyState) {\n    console.warn(\"Please use proxy object\");\n  }\n  let promise;\n  const ops = [];\n  const addListener = proxyState[3];\n  let isListenerActive = false;\n  const listener = op => {\n    ops.push(op);\n    if (notifyInSync) {\n      callback(ops.splice(0));\n      return;\n    }\n    if (!promise) {\n      promise = Promise.resolve().then(() => {\n        promise = void 0;\n        if (isListenerActive) {\n          callback(ops.splice(0));\n        }\n      });\n    }\n  };\n  const removeListener = addListener(listener);\n  isListenerActive = true;\n  return () => {\n    isListenerActive = false;\n    removeListener();\n  };\n}\nfunction snapshot(proxyObject) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  if (isDev() && !proxyState) {\n    console.warn(\"Please use proxy object\");\n  }\n  const [target, ensureVersion, createSnapshot] = proxyState;\n  return createSnapshot(target, ensureVersion());\n}\nfunction ref(obj) {\n  refSet.add(obj);\n  return obj;\n}\n\n// src/proxy-computed.ts\nfunction proxyWithComputed(initialObject, computedFns) {\n  const keys = Object.keys(computedFns);\n  keys.forEach(key => {\n    if (Object.getOwnPropertyDescriptor(initialObject, key)) {\n      throw new Error(\"object property already defined\");\n    }\n    const computedFn = computedFns[key];\n    const {\n      get,\n      set: set2\n    } = typeof computedFn === \"function\" ? {\n      get: computedFn\n    } : computedFn;\n    const desc = {};\n    desc.get = () => get(snapshot(proxyObject));\n    if (set2) {\n      desc.set = newValue => set2(proxyObject, newValue);\n    }\n    Object.defineProperty(initialObject, key, desc);\n  });\n  const proxyObject = proxy(initialObject);\n  return proxyObject;\n}\nexport { clone, globalRef, proxy, proxyWithComputed, ref, snapshot, subscribe };","map":{"version":3,"names":["markToTrack","getUntracked","glob","globalThis","self","window","global","globalRef","key","value","g","refSet","WeakSet","isReactElement","x","isVueElement","isDOMElement","nodeName","isElement","isObject","canProxy","has","Array","isArray","Symbol","iterator","WeakMap","Error","Number","Date","String","RegExp","ArrayBuffer","Promise","isDev","process","env","NODE_ENV","set","obj","val","clone","enumerable","get","configurable","writable","Object","defineProperty","i","k","list","tmp","str","prototype","toString","call","create","getPrototypeOf","length","Set","forEach","add","Map","source","flags","constructor","buffer","slice","getOwnPropertySymbols","getOwnPropertyDescriptor","getOwnPropertyNames","hasOwnProperty","proxyStateMap","buildProxyFunction","objectIs","is","newProxy","target","handler","Proxy","snapCache","createSnapshot","version","cache","snap","Reflect","ownKeys","snapshot","freeze","proxyCache","versionHolder","proxyFunction2","initialObject","found","listeners","notifyUpdate","op","nextVersion","listener","checkVersion","ensureVersion","nextCheckVersion","size","propProxyStates","propProxyState","propVersion","createPropListener","prop","newOp","addPropListener","remove","removePropListener","entry","delete","addListener","prevRemove","removeListener","baseObject","deleteProperty","prevValue","deleted","receiver","hasPrevValue","nextValue","proxy","childProxyState","proxyObject","proxyState","desc","proxyFunction","subscribe","callback","notifyInSync","console","warn","promise","ops","isListenerActive","push","splice","resolve","then","ref","proxyWithComputed","computedFns","keys","computedFn","set2","newValue"],"sources":["/Users/macbook/developer/2025/2026/node_modules/@zag-js/store/dist/index.mjs"],"sourcesContent":["import { markToTrack, getUntracked } from 'proxy-compare';\n\n// src/global.ts\nfunction glob() {\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  if (typeof self !== \"undefined\") return self;\n  if (typeof window !== \"undefined\") return window;\n  if (typeof global !== \"undefined\") return global;\n}\nfunction globalRef(key, value) {\n  const g = glob();\n  if (!g) return value();\n  g[key] || (g[key] = value());\n  return g[key];\n}\nvar refSet = globalRef(\"__zag__refSet\", () => /* @__PURE__ */ new WeakSet());\n\n// src/utils.ts\nvar isReactElement = (x) => typeof x === \"object\" && x !== null && \"$$typeof\" in x && \"props\" in x;\nvar isVueElement = (x) => typeof x === \"object\" && x !== null && \"__v_isVNode\" in x;\nvar isDOMElement = (x) => typeof x === \"object\" && x !== null && \"nodeType\" in x && typeof x.nodeName === \"string\";\nvar isElement = (x) => isReactElement(x) || isVueElement(x) || isDOMElement(x);\nvar isObject = (x) => x !== null && typeof x === \"object\";\nvar canProxy = (x) => isObject(x) && !refSet.has(x) && (Array.isArray(x) || !(Symbol.iterator in x)) && !isElement(x) && !(x instanceof WeakMap) && !(x instanceof WeakSet) && !(x instanceof Error) && !(x instanceof Number) && !(x instanceof Date) && !(x instanceof String) && !(x instanceof RegExp) && !(x instanceof ArrayBuffer) && !(x instanceof Promise);\nvar isDev = () => process.env.NODE_ENV !== \"production\";\n\n// src/clone.ts\nfunction set(obj, key, val) {\n  if (typeof val.value === \"object\" && !canProxy(val.value)) val.value = clone(val.value);\n  if (!val.enumerable || val.get || val.set || !val.configurable || !val.writable || key === \"__proto__\") {\n    Object.defineProperty(obj, key, val);\n  } else obj[key] = val.value;\n}\nfunction clone(x) {\n  if (typeof x !== \"object\") return x;\n  var i = 0, k, list, tmp, str = Object.prototype.toString.call(x);\n  if (str === \"[object Object]\") {\n    tmp = Object.create(Object.getPrototypeOf(x) || null);\n  } else if (str === \"[object Array]\") {\n    tmp = Array(x.length);\n  } else if (str === \"[object Set]\") {\n    tmp = /* @__PURE__ */ new Set();\n    x.forEach(function(val) {\n      tmp.add(clone(val));\n    });\n  } else if (str === \"[object Map]\") {\n    tmp = /* @__PURE__ */ new Map();\n    x.forEach(function(val, key) {\n      tmp.set(clone(key), clone(val));\n    });\n  } else if (str === \"[object Date]\") {\n    tmp = /* @__PURE__ */ new Date(+x);\n  } else if (str === \"[object RegExp]\") {\n    tmp = new RegExp(x.source, x.flags);\n  } else if (str === \"[object DataView]\") {\n    tmp = new x.constructor(clone(x.buffer));\n  } else if (str === \"[object ArrayBuffer]\") {\n    tmp = x.slice(0);\n  } else if (str === \"[object Blob]\") {\n    tmp = x.slice();\n  } else if (str.slice(-6) === \"Array]\") {\n    tmp = new x.constructor(x);\n  }\n  if (tmp) {\n    for (list = Object.getOwnPropertySymbols(x); i < list.length; i++) {\n      set(tmp, list[i], Object.getOwnPropertyDescriptor(x, list[i]));\n    }\n    for (i = 0, list = Object.getOwnPropertyNames(x); i < list.length; i++) {\n      if (Object.hasOwnProperty.call(tmp, k = list[i]) && tmp[k] === x[k]) continue;\n      set(tmp, k, Object.getOwnPropertyDescriptor(x, k));\n    }\n  }\n  return tmp || x;\n}\nvar proxyStateMap = globalRef(\"__zag__proxyStateMap\", () => /* @__PURE__ */ new WeakMap());\nvar buildProxyFunction = (objectIs = Object.is, newProxy = (target, handler) => new Proxy(target, handler), snapCache = /* @__PURE__ */ new WeakMap(), createSnapshot = (target, version) => {\n  const cache = snapCache.get(target);\n  if (cache?.[0] === version) {\n    return cache[1];\n  }\n  const snap = Array.isArray(target) ? [] : Object.create(Object.getPrototypeOf(target));\n  markToTrack(snap, true);\n  snapCache.set(target, [version, snap]);\n  Reflect.ownKeys(target).forEach((key) => {\n    const value = Reflect.get(target, key);\n    if (refSet.has(value)) {\n      markToTrack(value, false);\n      snap[key] = value;\n    } else if (proxyStateMap.has(value)) {\n      snap[key] = snapshot(value);\n    } else {\n      snap[key] = value;\n    }\n  });\n  return Object.freeze(snap);\n}, proxyCache = /* @__PURE__ */ new WeakMap(), versionHolder = [1, 1], proxyFunction2 = (initialObject) => {\n  if (!isObject(initialObject)) {\n    throw new Error(\"object required\");\n  }\n  const found = proxyCache.get(initialObject);\n  if (found) {\n    return found;\n  }\n  let version = versionHolder[0];\n  const listeners = /* @__PURE__ */ new Set();\n  const notifyUpdate = (op, nextVersion = ++versionHolder[0]) => {\n    if (version !== nextVersion) {\n      version = nextVersion;\n      listeners.forEach((listener) => listener(op, nextVersion));\n    }\n  };\n  let checkVersion = versionHolder[1];\n  const ensureVersion = (nextCheckVersion = ++versionHolder[1]) => {\n    if (checkVersion !== nextCheckVersion && !listeners.size) {\n      checkVersion = nextCheckVersion;\n      propProxyStates.forEach(([propProxyState]) => {\n        const propVersion = propProxyState[1](nextCheckVersion);\n        if (propVersion > version) {\n          version = propVersion;\n        }\n      });\n    }\n    return version;\n  };\n  const createPropListener = (prop) => (op, nextVersion) => {\n    const newOp = [...op];\n    newOp[1] = [prop, ...newOp[1]];\n    notifyUpdate(newOp, nextVersion);\n  };\n  const propProxyStates = /* @__PURE__ */ new Map();\n  const addPropListener = (prop, propProxyState) => {\n    if (isDev() && propProxyStates.has(prop)) {\n      throw new Error(\"prop listener already exists\");\n    }\n    if (listeners.size) {\n      const remove = propProxyState[3](createPropListener(prop));\n      propProxyStates.set(prop, [propProxyState, remove]);\n    } else {\n      propProxyStates.set(prop, [propProxyState]);\n    }\n  };\n  const removePropListener = (prop) => {\n    const entry = propProxyStates.get(prop);\n    if (entry) {\n      propProxyStates.delete(prop);\n      entry[1]?.();\n    }\n  };\n  const addListener = (listener) => {\n    listeners.add(listener);\n    if (listeners.size === 1) {\n      propProxyStates.forEach(([propProxyState, prevRemove], prop) => {\n        if (isDev() && prevRemove) {\n          throw new Error(\"remove already exists\");\n        }\n        const remove = propProxyState[3](createPropListener(prop));\n        propProxyStates.set(prop, [propProxyState, remove]);\n      });\n    }\n    const removeListener = () => {\n      listeners.delete(listener);\n      if (listeners.size === 0) {\n        propProxyStates.forEach(([propProxyState, remove], prop) => {\n          if (remove) {\n            remove();\n            propProxyStates.set(prop, [propProxyState]);\n          }\n        });\n      }\n    };\n    return removeListener;\n  };\n  const baseObject = Array.isArray(initialObject) ? [] : Object.create(Object.getPrototypeOf(initialObject));\n  const handler = {\n    deleteProperty(target, prop) {\n      const prevValue = Reflect.get(target, prop);\n      removePropListener(prop);\n      const deleted = Reflect.deleteProperty(target, prop);\n      if (deleted) {\n        notifyUpdate([\"delete\", [prop], prevValue]);\n      }\n      return deleted;\n    },\n    set(target, prop, value, receiver) {\n      const hasPrevValue = Reflect.has(target, prop);\n      const prevValue = Reflect.get(target, prop, receiver);\n      if (hasPrevValue && (objectIs(prevValue, value) || proxyCache.has(value) && objectIs(prevValue, proxyCache.get(value)))) {\n        return true;\n      }\n      removePropListener(prop);\n      if (isObject(value)) {\n        value = getUntracked(value) || value;\n      }\n      let nextValue = value;\n      if (Object.getOwnPropertyDescriptor(target, prop)?.set) ; else {\n        if (!proxyStateMap.has(value) && canProxy(value)) {\n          nextValue = proxy(value);\n        }\n        const childProxyState = !refSet.has(nextValue) && proxyStateMap.get(nextValue);\n        if (childProxyState) {\n          addPropListener(prop, childProxyState);\n        }\n      }\n      Reflect.set(target, prop, nextValue, receiver);\n      notifyUpdate([\"set\", [prop], value, prevValue]);\n      return true;\n    }\n  };\n  const proxyObject = newProxy(baseObject, handler);\n  proxyCache.set(initialObject, proxyObject);\n  const proxyState = [baseObject, ensureVersion, createSnapshot, addListener];\n  proxyStateMap.set(proxyObject, proxyState);\n  Reflect.ownKeys(initialObject).forEach((key) => {\n    const desc = Object.getOwnPropertyDescriptor(initialObject, key);\n    if (desc.get || desc.set) {\n      Object.defineProperty(baseObject, key, desc);\n    } else {\n      proxyObject[key] = initialObject[key];\n    }\n  });\n  return proxyObject;\n}) => [\n  // public functions\n  proxyFunction2,\n  // shared state\n  proxyStateMap,\n  refSet,\n  // internal things\n  objectIs,\n  newProxy,\n  canProxy,\n  snapCache,\n  createSnapshot,\n  proxyCache,\n  versionHolder\n];\nvar [proxyFunction] = buildProxyFunction();\nfunction proxy(initialObject = {}) {\n  return proxyFunction(initialObject);\n}\nfunction subscribe(proxyObject, callback, notifyInSync) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  if (isDev() && !proxyState) {\n    console.warn(\"Please use proxy object\");\n  }\n  let promise;\n  const ops = [];\n  const addListener = proxyState[3];\n  let isListenerActive = false;\n  const listener = (op) => {\n    ops.push(op);\n    if (notifyInSync) {\n      callback(ops.splice(0));\n      return;\n    }\n    if (!promise) {\n      promise = Promise.resolve().then(() => {\n        promise = void 0;\n        if (isListenerActive) {\n          callback(ops.splice(0));\n        }\n      });\n    }\n  };\n  const removeListener = addListener(listener);\n  isListenerActive = true;\n  return () => {\n    isListenerActive = false;\n    removeListener();\n  };\n}\nfunction snapshot(proxyObject) {\n  const proxyState = proxyStateMap.get(proxyObject);\n  if (isDev() && !proxyState) {\n    console.warn(\"Please use proxy object\");\n  }\n  const [target, ensureVersion, createSnapshot] = proxyState;\n  return createSnapshot(target, ensureVersion());\n}\nfunction ref(obj) {\n  refSet.add(obj);\n  return obj;\n}\n\n// src/proxy-computed.ts\nfunction proxyWithComputed(initialObject, computedFns) {\n  const keys = Object.keys(computedFns);\n  keys.forEach((key) => {\n    if (Object.getOwnPropertyDescriptor(initialObject, key)) {\n      throw new Error(\"object property already defined\");\n    }\n    const computedFn = computedFns[key];\n    const { get, set: set2 } = typeof computedFn === \"function\" ? { get: computedFn } : computedFn;\n    const desc = {};\n    desc.get = () => get(snapshot(proxyObject));\n    if (set2) {\n      desc.set = (newValue) => set2(proxyObject, newValue);\n    }\n    Object.defineProperty(initialObject, key, desc);\n  });\n  const proxyObject = proxy(initialObject);\n  return proxyObject;\n}\n\nexport { clone, globalRef, proxy, proxyWithComputed, ref, snapshot, subscribe };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}