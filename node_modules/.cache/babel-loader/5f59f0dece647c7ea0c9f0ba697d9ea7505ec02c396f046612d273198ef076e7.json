{"ast":null,"code":"import { isIos } from '@zag-js/dom-query';\n\n// src/index.ts\nvar LOCK_CLASSNAME = \"data-scroll-lock\";\nfunction assignStyle(el, style) {\n  if (!el) return;\n  const previousStyle = Object.keys(style).reduce((acc, key) => {\n    acc[key] = el.style.getPropertyValue(key);\n    return acc;\n  }, {});\n  Object.assign(el.style, style);\n  return () => {\n    Object.assign(el.style, previousStyle);\n  };\n}\nfunction setCSSProperty(el, property, value) {\n  if (!el) return;\n  const previousValue = el.style.getPropertyValue(property);\n  el.style.setProperty(property, value);\n  return () => {\n    if (previousValue) {\n      el.style.setProperty(property, previousValue);\n    } else {\n      el.style.removeProperty(property);\n    }\n  };\n}\nfunction getPaddingProperty(documentElement) {\n  const documentLeft = documentElement.getBoundingClientRect().left;\n  const scrollbarX = Math.round(documentLeft) + documentElement.scrollLeft;\n  return scrollbarX ? \"paddingLeft\" : \"paddingRight\";\n}\nfunction preventBodyScroll(_document) {\n  const doc = _document ?? document;\n  const win = doc.defaultView ?? window;\n  const {\n    documentElement,\n    body\n  } = doc;\n  const locked = body.hasAttribute(LOCK_CLASSNAME);\n  if (locked) return;\n  body.setAttribute(LOCK_CLASSNAME, \"\");\n  const scrollbarWidth = win.innerWidth - documentElement.clientWidth;\n  const setScrollbarWidthProperty = () => setCSSProperty(documentElement, \"--scrollbar-width\", `${scrollbarWidth}px`);\n  const paddingProperty = getPaddingProperty(documentElement);\n  const setStyle = () => assignStyle(body, {\n    overflow: \"hidden\",\n    [paddingProperty]: `${scrollbarWidth}px`\n  });\n  const setIOSStyle = () => {\n    const {\n      scrollX,\n      scrollY,\n      visualViewport\n    } = win;\n    const offsetLeft = visualViewport?.offsetLeft ?? 0;\n    const offsetTop = visualViewport?.offsetTop ?? 0;\n    const restoreStyle = assignStyle(body, {\n      position: \"fixed\",\n      overflow: \"hidden\",\n      top: `${-(scrollY - Math.floor(offsetTop))}px`,\n      left: `${-(scrollX - Math.floor(offsetLeft))}px`,\n      right: \"0\",\n      [paddingProperty]: `${scrollbarWidth}px`\n    });\n    return () => {\n      restoreStyle?.();\n      win.scrollTo({\n        left: scrollX,\n        top: scrollY,\n        behavior: \"instant\"\n      });\n    };\n  };\n  const cleanups = [setScrollbarWidthProperty(), isIos() ? setIOSStyle() : setStyle()];\n  return () => {\n    cleanups.forEach(fn => fn?.());\n    body.removeAttribute(LOCK_CLASSNAME);\n  };\n}\nexport { preventBodyScroll };","map":{"version":3,"names":["isIos","LOCK_CLASSNAME","assignStyle","el","style","previousStyle","Object","keys","reduce","acc","key","getPropertyValue","assign","setCSSProperty","property","value","previousValue","setProperty","removeProperty","getPaddingProperty","documentElement","documentLeft","getBoundingClientRect","left","scrollbarX","Math","round","scrollLeft","preventBodyScroll","_document","doc","document","win","defaultView","window","body","locked","hasAttribute","setAttribute","scrollbarWidth","innerWidth","clientWidth","setScrollbarWidthProperty","paddingProperty","setStyle","overflow","setIOSStyle","scrollX","scrollY","visualViewport","offsetLeft","offsetTop","restoreStyle","position","top","floor","right","scrollTo","behavior","cleanups","forEach","fn","removeAttribute"],"sources":["/Users/macbook/developer/2025/2026/node_modules/@zag-js/remove-scroll/dist/index.mjs"],"sourcesContent":["import { isIos } from '@zag-js/dom-query';\n\n// src/index.ts\nvar LOCK_CLASSNAME = \"data-scroll-lock\";\nfunction assignStyle(el, style) {\n  if (!el) return;\n  const previousStyle = Object.keys(style).reduce(\n    (acc, key) => {\n      acc[key] = el.style.getPropertyValue(key);\n      return acc;\n    },\n    {}\n  );\n  Object.assign(el.style, style);\n  return () => {\n    Object.assign(el.style, previousStyle);\n  };\n}\nfunction setCSSProperty(el, property, value) {\n  if (!el) return;\n  const previousValue = el.style.getPropertyValue(property);\n  el.style.setProperty(property, value);\n  return () => {\n    if (previousValue) {\n      el.style.setProperty(property, previousValue);\n    } else {\n      el.style.removeProperty(property);\n    }\n  };\n}\nfunction getPaddingProperty(documentElement) {\n  const documentLeft = documentElement.getBoundingClientRect().left;\n  const scrollbarX = Math.round(documentLeft) + documentElement.scrollLeft;\n  return scrollbarX ? \"paddingLeft\" : \"paddingRight\";\n}\nfunction preventBodyScroll(_document) {\n  const doc = _document ?? document;\n  const win = doc.defaultView ?? window;\n  const { documentElement, body } = doc;\n  const locked = body.hasAttribute(LOCK_CLASSNAME);\n  if (locked) return;\n  body.setAttribute(LOCK_CLASSNAME, \"\");\n  const scrollbarWidth = win.innerWidth - documentElement.clientWidth;\n  const setScrollbarWidthProperty = () => setCSSProperty(documentElement, \"--scrollbar-width\", `${scrollbarWidth}px`);\n  const paddingProperty = getPaddingProperty(documentElement);\n  const setStyle = () => assignStyle(body, {\n    overflow: \"hidden\",\n    [paddingProperty]: `${scrollbarWidth}px`\n  });\n  const setIOSStyle = () => {\n    const { scrollX, scrollY, visualViewport } = win;\n    const offsetLeft = visualViewport?.offsetLeft ?? 0;\n    const offsetTop = visualViewport?.offsetTop ?? 0;\n    const restoreStyle = assignStyle(body, {\n      position: \"fixed\",\n      overflow: \"hidden\",\n      top: `${-(scrollY - Math.floor(offsetTop))}px`,\n      left: `${-(scrollX - Math.floor(offsetLeft))}px`,\n      right: \"0\",\n      [paddingProperty]: `${scrollbarWidth}px`\n    });\n    return () => {\n      restoreStyle?.();\n      win.scrollTo({ left: scrollX, top: scrollY, behavior: \"instant\" });\n    };\n  };\n  const cleanups = [setScrollbarWidthProperty(), isIos() ? setIOSStyle() : setStyle()];\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n    body.removeAttribute(LOCK_CLASSNAME);\n  };\n}\n\nexport { preventBodyScroll };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}