{"ast":null,"code":"import{useEffect,useState}from'react';import{supabase}from'../../config/supabaseClient';import{Box,Heading,SimpleGrid,Stat,StatLabel,StatNumber,StatHelpText}from'@chakra-ui/react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[stats,setStats]=useState({totalCoupons:0,activeCoupons:0,expiredCoupons:0});useEffect(()=>{fetchStats();},[]);const fetchStats=async()=>{const today=new Date().toISOString();const{data:allCoupons}=await supabase.from('coupons').select('*');const{data:activeCoupons}=await supabase.from('coupons').select('*').gte('expiration_date',today);setStats({totalCoupons:(allCoupons===null||allCoupons===void 0?void 0:allCoupons.length)||0,activeCoupons:(activeCoupons===null||activeCoupons===void 0?void 0:activeCoupons.length)||0,expiredCoupons:((allCoupons===null||allCoupons===void 0?void 0:allCoupons.length)||0)-((activeCoupons===null||activeCoupons===void 0?void 0:activeCoupons.length)||0)});};return/*#__PURE__*/_jsxs(Box,{maxW:\"1200px\",mx:\"auto\",mt:8,children:[/*#__PURE__*/_jsx(Heading,{mb:6,children:\"Dashboard\"}),/*#__PURE__*/_jsxs(SimpleGrid,{columns:{base:1,md:3},spacing:6,children:[/*#__PURE__*/_jsxs(Stat,{p:4,shadow:\"md\",border:\"1px\",borderColor:\"gray.200\",borderRadius:\"md\",children:[/*#__PURE__*/_jsx(StatLabel,{children:\"Total Coupons\"}),/*#__PURE__*/_jsx(StatNumber,{children:stats.totalCoupons}),/*#__PURE__*/_jsx(StatHelpText,{children:\"All time\"})]}),/*#__PURE__*/_jsxs(Stat,{p:4,shadow:\"md\",border:\"1px\",borderColor:\"gray.200\",borderRadius:\"md\",children:[/*#__PURE__*/_jsx(StatLabel,{children:\"Active Coupons\"}),/*#__PURE__*/_jsx(StatNumber,{children:stats.activeCoupons}),/*#__PURE__*/_jsx(StatHelpText,{children:\"Currently valid\"})]}),/*#__PURE__*/_jsxs(Stat,{p:4,shadow:\"md\",border:\"1px\",borderColor:\"gray.200\",borderRadius:\"md\",children:[/*#__PURE__*/_jsx(StatLabel,{children:\"Expired Coupons\"}),/*#__PURE__*/_jsx(StatNumber,{children:stats.expiredCoupons}),/*#__PURE__*/_jsx(StatHelpText,{children:\"Past expiration date\"})]})]})]});};export default Dashboard;","map":{"version":3,"names":["useEffect","useState","supabase","Box","Heading","SimpleGrid","Stat","StatLabel","StatNumber","StatHelpText","jsx","_jsx","jsxs","_jsxs","Dashboard","stats","setStats","totalCoupons","activeCoupons","expiredCoupons","fetchStats","today","Date","toISOString","data","allCoupons","from","select","gte","length","maxW","mx","mt","children","mb","columns","base","md","spacing","p","shadow","border","borderColor","borderRadius"],"sources":["/Users/macbook/developer/2025/2026/src/components/Dashboard/Dashboard.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { supabase } from '../../config/supabaseClient'\nimport {\n  Box,\n  Heading,\n  SimpleGrid,\n  Stat,\n  StatLabel,\n  StatNumber,\n  StatHelpText,\n} from '@chakra-ui/react'\n\nconst Dashboard = () => {\n  const [stats, setStats] = useState({\n    totalCoupons: 0,\n    activeCoupons: 0,\n    expiredCoupons: 0,\n  })\n\n  useEffect(() => {\n    fetchStats()\n  }, [])\n\n  const fetchStats = async () => {\n    const today = new Date().toISOString()\n    \n    const { data: allCoupons } = await supabase\n      .from('coupons')\n      .select('*')\n\n    const { data: activeCoupons } = await supabase\n      .from('coupons')\n      .select('*')\n      .gte('expiration_date', today)\n\n    setStats({\n      totalCoupons: allCoupons?.length || 0,\n      activeCoupons: activeCoupons?.length || 0,\n      expiredCoupons: (allCoupons?.length || 0) - (activeCoupons?.length || 0),\n    })\n  }\n\n  return (\n    <Box maxW=\"1200px\" mx=\"auto\" mt={8}>\n      <Heading mb={6}>Dashboard</Heading>\n      <SimpleGrid columns={{ base: 1, md: 3 }} spacing={6}>\n        <Stat p={4} shadow=\"md\" border=\"1px\" borderColor=\"gray.200\" borderRadius=\"md\">\n          <StatLabel>Total Coupons</StatLabel>\n          <StatNumber>{stats.totalCoupons}</StatNumber>\n          <StatHelpText>All time</StatHelpText>\n        </Stat>\n        <Stat p={4} shadow=\"md\" border=\"1px\" borderColor=\"gray.200\" borderRadius=\"md\">\n          <StatLabel>Active Coupons</StatLabel>\n          <StatNumber>{stats.activeCoupons}</StatNumber>\n          <StatHelpText>Currently valid</StatHelpText>\n        </Stat>\n        <Stat p={4} shadow=\"md\" border=\"1px\" borderColor=\"gray.200\" borderRadius=\"md\">\n          <StatLabel>Expired Coupons</StatLabel>\n          <StatNumber>{stats.expiredCoupons}</StatNumber>\n          <StatHelpText>Past expiration date</StatHelpText>\n        </Stat>\n      </SimpleGrid>\n    </Box>\n  )\n}\n\nexport default Dashboard"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}