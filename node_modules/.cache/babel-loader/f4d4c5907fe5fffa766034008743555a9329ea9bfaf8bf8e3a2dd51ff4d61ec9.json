{"ast":null,"code":"// src/walk-tree-outside.ts\nvar counterMap = /* @__PURE__ */new WeakMap();\nvar uncontrolledNodes = /* @__PURE__ */new WeakMap();\nvar markerMap = {};\nvar lockCount = 0;\nvar unwrapHost = node => node && (node.host || unwrapHost(node.parentNode));\nvar correctTargets = (parent, targets) => targets.map(target => {\n  if (parent.contains(target)) return target;\n  const correctedTarget = unwrapHost(target);\n  if (correctedTarget && parent.contains(correctedTarget)) {\n    return correctedTarget;\n  }\n  console.error(\"[zag-js > ariaHidden] target\", target, \"in not contained inside\", parent, \". Doing nothing\");\n  return null;\n}).filter(x => Boolean(x));\nvar isIgnoredNode = node => {\n  if (node.localName === \"next-route-announcer\") return true;\n  if (node.localName === \"script\") return true;\n  if (node.hasAttribute(\"aria-live\")) return true;\n  return node.matches(\"[data-live-announcer]\");\n};\nvar walkTreeOutside = (originalTarget, props) => {\n  const {\n    parentNode,\n    markerName,\n    controlAttribute\n  } = props;\n  const targets = correctTargets(parentNode, Array.isArray(originalTarget) ? originalTarget : [originalTarget]);\n  markerMap[markerName] || (markerMap[markerName] = /* @__PURE__ */new WeakMap());\n  const markerCounter = markerMap[markerName];\n  const hiddenNodes = [];\n  const elementsToKeep = /* @__PURE__ */new Set();\n  const elementsToStop = new Set(targets);\n  const keep = el => {\n    if (!el || elementsToKeep.has(el)) return;\n    elementsToKeep.add(el);\n    keep(el.parentNode);\n  };\n  targets.forEach(keep);\n  const deep = parent => {\n    if (!parent || elementsToStop.has(parent)) {\n      return;\n    }\n    Array.prototype.forEach.call(parent.children, node => {\n      if (elementsToKeep.has(node)) {\n        deep(node);\n      } else {\n        try {\n          if (isIgnoredNode(node)) return;\n          const attr = node.getAttribute(controlAttribute);\n          const alreadyHidden = attr !== null && attr !== \"false\";\n          const counterValue = (counterMap.get(node) || 0) + 1;\n          const markerValue = (markerCounter.get(node) || 0) + 1;\n          counterMap.set(node, counterValue);\n          markerCounter.set(node, markerValue);\n          hiddenNodes.push(node);\n          if (counterValue === 1 && alreadyHidden) {\n            uncontrolledNodes.set(node, true);\n          }\n          if (markerValue === 1) {\n            node.setAttribute(markerName, \"\");\n          }\n          if (!alreadyHidden) {\n            node.setAttribute(controlAttribute, \"\");\n          }\n        } catch (e) {\n          console.error(\"[zag-js > ariaHidden] cannot operate on \", node, e);\n        }\n      }\n    });\n  };\n  deep(parentNode);\n  elementsToKeep.clear();\n  lockCount++;\n  return () => {\n    hiddenNodes.forEach(node => {\n      const counterValue = counterMap.get(node) - 1;\n      const markerValue = markerCounter.get(node) - 1;\n      counterMap.set(node, counterValue);\n      markerCounter.set(node, markerValue);\n      if (!counterValue) {\n        if (!uncontrolledNodes.has(node)) {\n          node.removeAttribute(controlAttribute);\n        }\n        uncontrolledNodes.delete(node);\n      }\n      if (!markerValue) {\n        node.removeAttribute(markerName);\n      }\n    });\n    lockCount--;\n    if (!lockCount) {\n      counterMap = /* @__PURE__ */new WeakMap();\n      counterMap = /* @__PURE__ */new WeakMap();\n      uncontrolledNodes = /* @__PURE__ */new WeakMap();\n      markerMap = {};\n    }\n  };\n};\n\n// src/aria-hidden.ts\nvar getParentNode = originalTarget => {\n  const target = Array.isArray(originalTarget) ? originalTarget[0] : originalTarget;\n  return target.ownerDocument.body;\n};\nvar hideOthers = (originalTarget, parentNode = getParentNode(originalTarget), markerName = \"data-aria-hidden\") => {\n  if (!parentNode) return;\n  return walkTreeOutside(originalTarget, {\n    parentNode,\n    markerName,\n    controlAttribute: \"aria-hidden\"\n  });\n};\n\n// src/index.ts\nvar raf = fn => {\n  const frameId = requestAnimationFrame(() => fn());\n  return () => cancelAnimationFrame(frameId);\n};\nfunction ariaHidden(targetsOrFn, options = {}) {\n  const {\n    defer = true\n  } = options;\n  const func = defer ? raf : v => v();\n  const cleanups = [];\n  cleanups.push(func(() => {\n    const targets = typeof targetsOrFn === \"function\" ? targetsOrFn() : targetsOrFn;\n    const elements = targets.filter(Boolean);\n    if (elements.length === 0) return;\n    cleanups.push(hideOthers(elements));\n  }));\n  return () => {\n    cleanups.forEach(fn => fn?.());\n  };\n}\nexport { ariaHidden };","map":{"version":3,"names":["counterMap","WeakMap","uncontrolledNodes","markerMap","lockCount","unwrapHost","node","host","parentNode","correctTargets","parent","targets","map","target","contains","correctedTarget","console","error","filter","x","Boolean","isIgnoredNode","localName","hasAttribute","matches","walkTreeOutside","originalTarget","props","markerName","controlAttribute","Array","isArray","markerCounter","hiddenNodes","elementsToKeep","Set","elementsToStop","keep","el","has","add","forEach","deep","prototype","call","children","attr","getAttribute","alreadyHidden","counterValue","get","markerValue","set","push","setAttribute","e","clear","removeAttribute","delete","getParentNode","ownerDocument","body","hideOthers","raf","fn","frameId","requestAnimationFrame","cancelAnimationFrame","ariaHidden","targetsOrFn","options","defer","func","v","cleanups","elements","length"],"sources":["/Users/macbook/developer/2025/2026/node_modules/@zag-js/aria-hidden/dist/index.mjs"],"sourcesContent":["// src/walk-tree-outside.ts\nvar counterMap = /* @__PURE__ */ new WeakMap();\nvar uncontrolledNodes = /* @__PURE__ */ new WeakMap();\nvar markerMap = {};\nvar lockCount = 0;\nvar unwrapHost = (node) => node && (node.host || unwrapHost(node.parentNode));\nvar correctTargets = (parent, targets) => targets.map((target) => {\n  if (parent.contains(target)) return target;\n  const correctedTarget = unwrapHost(target);\n  if (correctedTarget && parent.contains(correctedTarget)) {\n    return correctedTarget;\n  }\n  console.error(\"[zag-js > ariaHidden] target\", target, \"in not contained inside\", parent, \". Doing nothing\");\n  return null;\n}).filter((x) => Boolean(x));\nvar isIgnoredNode = (node) => {\n  if (node.localName === \"next-route-announcer\") return true;\n  if (node.localName === \"script\") return true;\n  if (node.hasAttribute(\"aria-live\")) return true;\n  return node.matches(\"[data-live-announcer]\");\n};\nvar walkTreeOutside = (originalTarget, props) => {\n  const { parentNode, markerName, controlAttribute } = props;\n  const targets = correctTargets(parentNode, Array.isArray(originalTarget) ? originalTarget : [originalTarget]);\n  markerMap[markerName] || (markerMap[markerName] = /* @__PURE__ */ new WeakMap());\n  const markerCounter = markerMap[markerName];\n  const hiddenNodes = [];\n  const elementsToKeep = /* @__PURE__ */ new Set();\n  const elementsToStop = new Set(targets);\n  const keep = (el) => {\n    if (!el || elementsToKeep.has(el)) return;\n    elementsToKeep.add(el);\n    keep(el.parentNode);\n  };\n  targets.forEach(keep);\n  const deep = (parent) => {\n    if (!parent || elementsToStop.has(parent)) {\n      return;\n    }\n    Array.prototype.forEach.call(parent.children, (node) => {\n      if (elementsToKeep.has(node)) {\n        deep(node);\n      } else {\n        try {\n          if (isIgnoredNode(node)) return;\n          const attr = node.getAttribute(controlAttribute);\n          const alreadyHidden = attr !== null && attr !== \"false\";\n          const counterValue = (counterMap.get(node) || 0) + 1;\n          const markerValue = (markerCounter.get(node) || 0) + 1;\n          counterMap.set(node, counterValue);\n          markerCounter.set(node, markerValue);\n          hiddenNodes.push(node);\n          if (counterValue === 1 && alreadyHidden) {\n            uncontrolledNodes.set(node, true);\n          }\n          if (markerValue === 1) {\n            node.setAttribute(markerName, \"\");\n          }\n          if (!alreadyHidden) {\n            node.setAttribute(controlAttribute, \"\");\n          }\n        } catch (e) {\n          console.error(\"[zag-js > ariaHidden] cannot operate on \", node, e);\n        }\n      }\n    });\n  };\n  deep(parentNode);\n  elementsToKeep.clear();\n  lockCount++;\n  return () => {\n    hiddenNodes.forEach((node) => {\n      const counterValue = counterMap.get(node) - 1;\n      const markerValue = markerCounter.get(node) - 1;\n      counterMap.set(node, counterValue);\n      markerCounter.set(node, markerValue);\n      if (!counterValue) {\n        if (!uncontrolledNodes.has(node)) {\n          node.removeAttribute(controlAttribute);\n        }\n        uncontrolledNodes.delete(node);\n      }\n      if (!markerValue) {\n        node.removeAttribute(markerName);\n      }\n    });\n    lockCount--;\n    if (!lockCount) {\n      counterMap = /* @__PURE__ */ new WeakMap();\n      counterMap = /* @__PURE__ */ new WeakMap();\n      uncontrolledNodes = /* @__PURE__ */ new WeakMap();\n      markerMap = {};\n    }\n  };\n};\n\n// src/aria-hidden.ts\nvar getParentNode = (originalTarget) => {\n  const target = Array.isArray(originalTarget) ? originalTarget[0] : originalTarget;\n  return target.ownerDocument.body;\n};\nvar hideOthers = (originalTarget, parentNode = getParentNode(originalTarget), markerName = \"data-aria-hidden\") => {\n  if (!parentNode) return;\n  return walkTreeOutside(originalTarget, {\n    parentNode,\n    markerName,\n    controlAttribute: \"aria-hidden\"\n  });\n};\n\n// src/index.ts\nvar raf = (fn) => {\n  const frameId = requestAnimationFrame(() => fn());\n  return () => cancelAnimationFrame(frameId);\n};\nfunction ariaHidden(targetsOrFn, options = {}) {\n  const { defer = true } = options;\n  const func = defer ? raf : (v) => v();\n  const cleanups = [];\n  cleanups.push(\n    func(() => {\n      const targets = typeof targetsOrFn === \"function\" ? targetsOrFn() : targetsOrFn;\n      const elements = targets.filter(Boolean);\n      if (elements.length === 0) return;\n      cleanups.push(hideOthers(elements));\n    })\n  );\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n  };\n}\n\nexport { ariaHidden };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}