{"ast":null,"code":"import { CalendarDate as $35ea8db9cb2ccb90$export$99faa760c7908e4f, CalendarDateTime as $35ea8db9cb2ccb90$export$ca871e8dbb80966f, Time as $35ea8db9cb2ccb90$export$680ea196effce5f, ZonedDateTime as $35ea8db9cb2ccb90$export$d3b7288e7994edea } from \"./CalendarDate.mjs\";\nimport { constrain as $735220c2d4774dd3$export$c4e2ecac49351ef2 } from \"./manipulation.mjs\";\nimport { getExtendedYear as $3b62074eb05584b2$export$c36e0ecb2d4fa69d, GregorianCalendar as $3b62074eb05584b2$export$80ee6245ec4f29ec } from \"./GregorianCalendar.mjs\";\nimport { getLocalTimeZone as $14e0f24ef4ac5c92$export$aa8b41735afcabd2 } from \"./queries.mjs\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Portions of the code in this file are based on code from the TC39 Temporal proposal.\n// Original licensing can be found in the NOTICE file in the root directory of this source tree.\n\nfunction $11d87f3f76e88657$export$bd4fb2bc8bb06fb(date) {\n  date = $11d87f3f76e88657$export$b4a036af3fc0b032(date, new (0, $3b62074eb05584b2$export$80ee6245ec4f29ec)());\n  let year = (0, $3b62074eb05584b2$export$c36e0ecb2d4fa69d)(date.era, date.year);\n  return $11d87f3f76e88657$var$epochFromParts(year, date.month, date.day, date.hour, date.minute, date.second, date.millisecond);\n}\nfunction $11d87f3f76e88657$var$epochFromParts(year, month, day, hour, minute, second, millisecond) {\n  // Note: Date.UTC() interprets one and two-digit years as being in the\n  // 20th century, so don't use it\n  let date = new Date();\n  date.setUTCHours(hour, minute, second, millisecond);\n  date.setUTCFullYear(year, month - 1, day);\n  return date.getTime();\n}\nfunction $11d87f3f76e88657$export$59c99f3515d3493f(ms, timeZone) {\n  // Fast path for UTC.\n  if (timeZone === 'UTC') return 0;\n  // Fast path: for local timezone after 1970, use native Date.\n  if (ms > 0 && timeZone === (0, $14e0f24ef4ac5c92$export$aa8b41735afcabd2)()) return new Date(ms).getTimezoneOffset() * -60000;\n  let {\n    year: year,\n    month: month,\n    day: day,\n    hour: hour,\n    minute: minute,\n    second: second\n  } = $11d87f3f76e88657$var$getTimeZoneParts(ms, timeZone);\n  let utc = $11d87f3f76e88657$var$epochFromParts(year, month, day, hour, minute, second, 0);\n  return utc - Math.floor(ms / 1000) * 1000;\n}\nconst $11d87f3f76e88657$var$formattersByTimeZone = new Map();\nfunction $11d87f3f76e88657$var$getTimeZoneParts(ms, timeZone) {\n  let formatter = $11d87f3f76e88657$var$formattersByTimeZone.get(timeZone);\n  if (!formatter) {\n    formatter = new Intl.DateTimeFormat('en-US', {\n      timeZone: timeZone,\n      hour12: false,\n      era: 'short',\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric'\n    });\n    $11d87f3f76e88657$var$formattersByTimeZone.set(timeZone, formatter);\n  }\n  let parts = formatter.formatToParts(new Date(ms));\n  let namedParts = {};\n  for (let part of parts) if (part.type !== 'literal') namedParts[part.type] = part.value;\n  return {\n    // Firefox returns B instead of BC... https://bugzilla.mozilla.org/show_bug.cgi?id=1752253\n    year: namedParts.era === 'BC' || namedParts.era === 'B' ? -namedParts.year + 1 : +namedParts.year,\n    month: +namedParts.month,\n    day: +namedParts.day,\n    hour: namedParts.hour === '24' ? 0 : +namedParts.hour,\n    minute: +namedParts.minute,\n    second: +namedParts.second\n  };\n}\nconst $11d87f3f76e88657$var$DAYMILLIS = 86400000;\nfunction $11d87f3f76e88657$export$136f38efe7caf549(date, timeZone) {\n  let ms = $11d87f3f76e88657$export$bd4fb2bc8bb06fb(date);\n  let earlier = ms - $11d87f3f76e88657$export$59c99f3515d3493f(ms - $11d87f3f76e88657$var$DAYMILLIS, timeZone);\n  let later = ms - $11d87f3f76e88657$export$59c99f3515d3493f(ms + $11d87f3f76e88657$var$DAYMILLIS, timeZone);\n  return $11d87f3f76e88657$var$getValidWallTimes(date, timeZone, earlier, later);\n}\nfunction $11d87f3f76e88657$var$getValidWallTimes(date, timeZone, earlier, later) {\n  let found = earlier === later ? [earlier] : [earlier, later];\n  return found.filter(absolute => $11d87f3f76e88657$var$isValidWallTime(date, timeZone, absolute));\n}\nfunction $11d87f3f76e88657$var$isValidWallTime(date, timeZone, absolute) {\n  let parts = $11d87f3f76e88657$var$getTimeZoneParts(absolute, timeZone);\n  return date.year === parts.year && date.month === parts.month && date.day === parts.day && date.hour === parts.hour && date.minute === parts.minute && date.second === parts.second;\n}\nfunction $11d87f3f76e88657$export$5107c82f94518f5c(date, timeZone, disambiguation = 'compatible') {\n  let dateTime = $11d87f3f76e88657$export$b21e0b124e224484(date);\n  // Fast path: if the time zone is UTC, use native Date.\n  if (timeZone === 'UTC') return $11d87f3f76e88657$export$bd4fb2bc8bb06fb(dateTime);\n  // Fast path: if the time zone is the local timezone and disambiguation is compatible, use native Date.\n  if (timeZone === (0, $14e0f24ef4ac5c92$export$aa8b41735afcabd2)() && disambiguation === 'compatible') {\n    dateTime = $11d87f3f76e88657$export$b4a036af3fc0b032(dateTime, new (0, $3b62074eb05584b2$export$80ee6245ec4f29ec)());\n    // Don't use Date constructor here because two-digit years are interpreted in the 20th century.\n    let date = new Date();\n    let year = (0, $3b62074eb05584b2$export$c36e0ecb2d4fa69d)(dateTime.era, dateTime.year);\n    date.setFullYear(year, dateTime.month - 1, dateTime.day);\n    date.setHours(dateTime.hour, dateTime.minute, dateTime.second, dateTime.millisecond);\n    return date.getTime();\n  }\n  let ms = $11d87f3f76e88657$export$bd4fb2bc8bb06fb(dateTime);\n  let offsetBefore = $11d87f3f76e88657$export$59c99f3515d3493f(ms - $11d87f3f76e88657$var$DAYMILLIS, timeZone);\n  let offsetAfter = $11d87f3f76e88657$export$59c99f3515d3493f(ms + $11d87f3f76e88657$var$DAYMILLIS, timeZone);\n  let valid = $11d87f3f76e88657$var$getValidWallTimes(dateTime, timeZone, ms - offsetBefore, ms - offsetAfter);\n  if (valid.length === 1) return valid[0];\n  if (valid.length > 1) switch (disambiguation) {\n    // 'compatible' means 'earlier' for \"fall back\" transitions\n    case 'compatible':\n    case 'earlier':\n      return valid[0];\n    case 'later':\n      return valid[valid.length - 1];\n    case 'reject':\n      throw new RangeError('Multiple possible absolute times found');\n  }\n  switch (disambiguation) {\n    case 'earlier':\n      return Math.min(ms - offsetBefore, ms - offsetAfter);\n    // 'compatible' means 'later' for \"spring forward\" transitions\n    case 'compatible':\n    case 'later':\n      return Math.max(ms - offsetBefore, ms - offsetAfter);\n    case 'reject':\n      throw new RangeError('No such absolute time found');\n  }\n}\nfunction $11d87f3f76e88657$export$e67a095c620b86fe(dateTime, timeZone, disambiguation = 'compatible') {\n  return new Date($11d87f3f76e88657$export$5107c82f94518f5c(dateTime, timeZone, disambiguation));\n}\nfunction $11d87f3f76e88657$export$1b96692a1ba042ac(ms, timeZone) {\n  let offset = $11d87f3f76e88657$export$59c99f3515d3493f(ms, timeZone);\n  let date = new Date(ms + offset);\n  let year = date.getUTCFullYear();\n  let month = date.getUTCMonth() + 1;\n  let day = date.getUTCDate();\n  let hour = date.getUTCHours();\n  let minute = date.getUTCMinutes();\n  let second = date.getUTCSeconds();\n  let millisecond = date.getUTCMilliseconds();\n  return new (0, $35ea8db9cb2ccb90$export$d3b7288e7994edea)(year < 1 ? 'BC' : 'AD', year < 1 ? -year + 1 : year, month, day, timeZone, offset, hour, minute, second, millisecond);\n}\nfunction $11d87f3f76e88657$export$e57ff100d91bd4b9(date, timeZone) {\n  return $11d87f3f76e88657$export$1b96692a1ba042ac(date.getTime(), timeZone);\n}\nfunction $11d87f3f76e88657$export$d7f92bcd3596b086(date) {\n  return $11d87f3f76e88657$export$e57ff100d91bd4b9(date, (0, $14e0f24ef4ac5c92$export$aa8b41735afcabd2)());\n}\nfunction $11d87f3f76e88657$export$93522d1a439f3617(dateTime) {\n  return new (0, $35ea8db9cb2ccb90$export$99faa760c7908e4f)(dateTime.calendar, dateTime.era, dateTime.year, dateTime.month, dateTime.day);\n}\nfunction $11d87f3f76e88657$export$6f4d78149f3f53ac(date) {\n  return {\n    era: date.era,\n    year: date.year,\n    month: date.month,\n    day: date.day\n  };\n}\nfunction $11d87f3f76e88657$export$4d0393e732857be5(date) {\n  return {\n    hour: date.hour,\n    minute: date.minute,\n    second: date.second,\n    millisecond: date.millisecond\n  };\n}\nfunction $11d87f3f76e88657$export$b21e0b124e224484(date, time) {\n  let hour = 0,\n    minute = 0,\n    second = 0,\n    millisecond = 0;\n  if ('timeZone' in date) ({\n    hour: hour,\n    minute: minute,\n    second: second,\n    millisecond: millisecond\n  } = date);else if ('hour' in date && !time) return date;\n  if (time) ({\n    hour: hour,\n    minute: minute,\n    second: second,\n    millisecond: millisecond\n  } = time);\n  return new (0, $35ea8db9cb2ccb90$export$ca871e8dbb80966f)(date.calendar, date.era, date.year, date.month, date.day, hour, minute, second, millisecond);\n}\nfunction $11d87f3f76e88657$export$d33f79e3ffc3dc83(dateTime) {\n  return new (0, $35ea8db9cb2ccb90$export$680ea196effce5f)(dateTime.hour, dateTime.minute, dateTime.second, dateTime.millisecond);\n}\nfunction $11d87f3f76e88657$export$b4a036af3fc0b032(date, calendar) {\n  if (date.calendar.identifier === calendar.identifier) return date;\n  let calendarDate = calendar.fromJulianDay(date.calendar.toJulianDay(date));\n  let copy = date.copy();\n  copy.calendar = calendar;\n  copy.era = calendarDate.era;\n  copy.year = calendarDate.year;\n  copy.month = calendarDate.month;\n  copy.day = calendarDate.day;\n  (0, $735220c2d4774dd3$export$c4e2ecac49351ef2)(copy);\n  return copy;\n}\nfunction $11d87f3f76e88657$export$84c95a83c799e074(date, timeZone, disambiguation) {\n  if (date instanceof (0, $35ea8db9cb2ccb90$export$d3b7288e7994edea)) {\n    if (date.timeZone === timeZone) return date;\n    return $11d87f3f76e88657$export$538b00033cc11c75(date, timeZone);\n  }\n  let ms = $11d87f3f76e88657$export$5107c82f94518f5c(date, timeZone, disambiguation);\n  return $11d87f3f76e88657$export$1b96692a1ba042ac(ms, timeZone);\n}\nfunction $11d87f3f76e88657$export$83aac07b4c37b25(date) {\n  let ms = $11d87f3f76e88657$export$bd4fb2bc8bb06fb(date) - date.offset;\n  return new Date(ms);\n}\nfunction $11d87f3f76e88657$export$538b00033cc11c75(date, timeZone) {\n  let ms = $11d87f3f76e88657$export$bd4fb2bc8bb06fb(date) - date.offset;\n  return $11d87f3f76e88657$export$b4a036af3fc0b032($11d87f3f76e88657$export$1b96692a1ba042ac(ms, timeZone), date.calendar);\n}\nfunction $11d87f3f76e88657$export$d9b67bc93c097491(date) {\n  return $11d87f3f76e88657$export$538b00033cc11c75(date, (0, $14e0f24ef4ac5c92$export$aa8b41735afcabd2)());\n}\nexport { $11d87f3f76e88657$export$bd4fb2bc8bb06fb as epochFromDate, $11d87f3f76e88657$export$b4a036af3fc0b032 as toCalendar, $11d87f3f76e88657$export$59c99f3515d3493f as getTimeZoneOffset, $11d87f3f76e88657$export$136f38efe7caf549 as possibleAbsolutes, $11d87f3f76e88657$export$5107c82f94518f5c as toAbsolute, $11d87f3f76e88657$export$b21e0b124e224484 as toCalendarDateTime, $11d87f3f76e88657$export$e67a095c620b86fe as toDate, $11d87f3f76e88657$export$1b96692a1ba042ac as fromAbsolute, $11d87f3f76e88657$export$e57ff100d91bd4b9 as fromDate, $11d87f3f76e88657$export$d7f92bcd3596b086 as fromDateToLocal, $11d87f3f76e88657$export$93522d1a439f3617 as toCalendarDate, $11d87f3f76e88657$export$6f4d78149f3f53ac as toDateFields, $11d87f3f76e88657$export$4d0393e732857be5 as toTimeFields, $11d87f3f76e88657$export$d33f79e3ffc3dc83 as toTime, $11d87f3f76e88657$export$84c95a83c799e074 as toZoned, $11d87f3f76e88657$export$538b00033cc11c75 as toTimeZone, $11d87f3f76e88657$export$83aac07b4c37b25 as zonedToDate, $11d87f3f76e88657$export$d9b67bc93c097491 as toLocalTimeZone };","map":{"version":3,"names":["$11d87f3f76e88657$export$bd4fb2bc8bb06fb","date","$11d87f3f76e88657$export$b4a036af3fc0b032","$3b62074eb05584b2$export$80ee6245ec4f29ec","year","$3b62074eb05584b2$export$c36e0ecb2d4fa69d","era","$11d87f3f76e88657$var$epochFromParts","month","day","hour","minute","second","millisecond","Date","setUTCHours","setUTCFullYear","getTime","$11d87f3f76e88657$export$59c99f3515d3493f","ms","timeZone","$14e0f24ef4ac5c92$export$aa8b41735afcabd2","getTimezoneOffset","$11d87f3f76e88657$var$getTimeZoneParts","utc","Math","floor","$11d87f3f76e88657$var$formattersByTimeZone","Map","formatter","get","Intl","DateTimeFormat","hour12","set","parts","formatToParts","namedParts","part","type","value","$11d87f3f76e88657$var$DAYMILLIS","$11d87f3f76e88657$export$136f38efe7caf549","earlier","later","$11d87f3f76e88657$var$getValidWallTimes","found","filter","absolute","$11d87f3f76e88657$var$isValidWallTime","$11d87f3f76e88657$export$5107c82f94518f5c","disambiguation","dateTime","$11d87f3f76e88657$export$b21e0b124e224484","setFullYear","setHours","offsetBefore","offsetAfter","valid","length","RangeError","min","max","$11d87f3f76e88657$export$e67a095c620b86fe","$11d87f3f76e88657$export$1b96692a1ba042ac","offset","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","$35ea8db9cb2ccb90$export$d3b7288e7994edea","$11d87f3f76e88657$export$e57ff100d91bd4b9","$11d87f3f76e88657$export$d7f92bcd3596b086","$11d87f3f76e88657$export$93522d1a439f3617","$35ea8db9cb2ccb90$export$99faa760c7908e4f","calendar","$11d87f3f76e88657$export$6f4d78149f3f53ac","$11d87f3f76e88657$export$4d0393e732857be5","time","$35ea8db9cb2ccb90$export$ca871e8dbb80966f","$11d87f3f76e88657$export$d33f79e3ffc3dc83","$35ea8db9cb2ccb90$export$680ea196effce5f","identifier","calendarDate","fromJulianDay","toJulianDay","copy","$735220c2d4774dd3$export$c4e2ecac49351ef2","$11d87f3f76e88657$export$84c95a83c799e074","$11d87f3f76e88657$export$538b00033cc11c75","$11d87f3f76e88657$export$83aac07b4c37b25","$11d87f3f76e88657$export$d9b67bc93c097491"],"sources":["/Users/macbook/developer/2025/2026/node_modules/@internationalized/date/dist/packages/@internationalized/date/src/conversion.ts"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from the TC39 Temporal proposal.\n// Original licensing can be found in the NOTICE file in the root directory of this source tree.\n\nimport {AnyCalendarDate, AnyDateTime, AnyTime, Calendar, DateFields, Disambiguation, TimeFields} from './types';\nimport {CalendarDate, CalendarDateTime, Time, ZonedDateTime} from './CalendarDate';\nimport {constrain} from './manipulation';\nimport {getExtendedYear, GregorianCalendar} from './calendars/GregorianCalendar';\nimport {getLocalTimeZone} from './queries';\nimport {Mutable} from './utils';\n\nexport function epochFromDate(date: AnyDateTime) {\n  date = toCalendar(date, new GregorianCalendar());\n  let year = getExtendedYear(date.era, date.year);\n  return epochFromParts(year, date.month, date.day, date.hour, date.minute, date.second, date.millisecond);\n}\n\nfunction epochFromParts(year: number, month: number, day: number, hour: number, minute: number, second: number, millisecond: number) {\n  // Note: Date.UTC() interprets one and two-digit years as being in the\n  // 20th century, so don't use it\n  let date = new Date();\n  date.setUTCHours(hour, minute, second, millisecond);\n  date.setUTCFullYear(year, month - 1, day);\n  return date.getTime();\n}\n\nexport function getTimeZoneOffset(ms: number, timeZone: string) {\n  // Fast path for UTC.\n  if (timeZone === 'UTC') {\n    return 0;\n  }\n\n  // Fast path: for local timezone after 1970, use native Date.\n  if (ms > 0 && timeZone === getLocalTimeZone()) {\n    return new Date(ms).getTimezoneOffset() * -60 * 1000;\n  }\n\n  let {year, month, day, hour, minute, second} = getTimeZoneParts(ms, timeZone);\n  let utc = epochFromParts(year, month, day, hour, minute, second, 0);\n  return utc - Math.floor(ms / 1000) * 1000;\n}\n\nconst formattersByTimeZone = new Map<string, Intl.DateTimeFormat>();\n\nfunction getTimeZoneParts(ms: number, timeZone: string) {\n  let formatter = formattersByTimeZone.get(timeZone);\n  if (!formatter) {\n    formatter = new Intl.DateTimeFormat('en-US', {\n      timeZone,\n      hour12: false,\n      era: 'short',\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric'\n    });\n\n    formattersByTimeZone.set(timeZone, formatter);\n  }\n\n  let parts = formatter.formatToParts(new Date(ms));\n  let namedParts: {[name: string]: string} = {};\n  for (let part of parts) {\n    if (part.type !== 'literal') {\n      namedParts[part.type] = part.value;\n    }\n  }\n\n\n  return {\n    // Firefox returns B instead of BC... https://bugzilla.mozilla.org/show_bug.cgi?id=1752253\n    year: namedParts.era === 'BC' || namedParts.era === 'B' ? -namedParts.year + 1 : +namedParts.year,\n    month: +namedParts.month,\n    day: +namedParts.day,\n    hour: namedParts.hour === '24' ? 0 : +namedParts.hour, // bugs.chromium.org/p/chromium/issues/detail?id=1045791\n    minute: +namedParts.minute,\n    second: +namedParts.second\n  };\n}\n\nconst DAYMILLIS = 86400000;\n\nexport function possibleAbsolutes(date: CalendarDateTime, timeZone: string): number[] {\n  let ms = epochFromDate(date);\n  let earlier = ms - getTimeZoneOffset(ms - DAYMILLIS, timeZone);\n  let later = ms - getTimeZoneOffset(ms + DAYMILLIS, timeZone);\n  return getValidWallTimes(date, timeZone, earlier, later);\n}\n\nfunction getValidWallTimes(date: CalendarDateTime, timeZone: string, earlier: number, later: number): number[] {\n  let found = earlier === later ? [earlier] : [earlier, later];\n  return found.filter(absolute => isValidWallTime(date, timeZone, absolute));\n}\n\nfunction isValidWallTime(date: CalendarDateTime, timeZone: string, absolute: number) {\n  let parts = getTimeZoneParts(absolute, timeZone);\n  return date.year === parts.year\n    && date.month === parts.month\n    && date.day === parts.day\n    && date.hour === parts.hour\n    && date.minute === parts.minute\n    && date.second === parts.second;\n}\n\nexport function toAbsolute(date: CalendarDate | CalendarDateTime, timeZone: string, disambiguation: Disambiguation = 'compatible'): number {\n  let dateTime = toCalendarDateTime(date);\n\n  // Fast path: if the time zone is UTC, use native Date.\n  if (timeZone === 'UTC') {\n    return epochFromDate(dateTime);\n  }\n\n  // Fast path: if the time zone is the local timezone and disambiguation is compatible, use native Date.\n  if (timeZone === getLocalTimeZone() && disambiguation === 'compatible') {\n    dateTime = toCalendar(dateTime, new GregorianCalendar());\n\n    // Don't use Date constructor here because two-digit years are interpreted in the 20th century.\n    let date = new Date();\n    let year = getExtendedYear(dateTime.era, dateTime.year);\n    date.setFullYear(year, dateTime.month - 1, dateTime.day);\n    date.setHours(dateTime.hour, dateTime.minute, dateTime.second, dateTime.millisecond);\n    return date.getTime();\n  }\n\n  let ms = epochFromDate(dateTime);\n  let offsetBefore = getTimeZoneOffset(ms - DAYMILLIS, timeZone);\n  let offsetAfter = getTimeZoneOffset(ms + DAYMILLIS, timeZone);\n  let valid = getValidWallTimes(dateTime, timeZone, ms - offsetBefore, ms - offsetAfter);\n\n  if (valid.length === 1) {\n    return valid[0];\n  }\n\n  if (valid.length > 1) {\n    switch (disambiguation) {\n      // 'compatible' means 'earlier' for \"fall back\" transitions\n      case 'compatible':\n      case 'earlier':\n        return valid[0];\n      case 'later':\n        return valid[valid.length - 1];\n      case 'reject':\n        throw new RangeError('Multiple possible absolute times found');\n    }\n  }\n\n  switch (disambiguation) {\n    case 'earlier':\n      return Math.min(ms - offsetBefore, ms - offsetAfter);\n    // 'compatible' means 'later' for \"spring forward\" transitions\n    case 'compatible':\n    case 'later':\n      return Math.max(ms - offsetBefore, ms - offsetAfter);\n    case 'reject':\n      throw new RangeError('No such absolute time found');\n  }\n}\n\nexport function toDate(dateTime: CalendarDate | CalendarDateTime, timeZone: string, disambiguation: Disambiguation = 'compatible'): Date {\n  return new Date(toAbsolute(dateTime, timeZone, disambiguation));\n}\n\n/**\n * Takes a Unix epoch (milliseconds since 1970) and converts it to the provided time zone.\n */\nexport function fromAbsolute(ms: number, timeZone: string): ZonedDateTime {\n  let offset = getTimeZoneOffset(ms, timeZone);\n  let date = new Date(ms + offset);\n  let year = date.getUTCFullYear();\n  let month = date.getUTCMonth() + 1;\n  let day = date.getUTCDate();\n  let hour = date.getUTCHours();\n  let minute = date.getUTCMinutes();\n  let second = date.getUTCSeconds();\n  let millisecond = date.getUTCMilliseconds();\n\n  return new ZonedDateTime(year < 1 ? 'BC' : 'AD', year < 1 ? -year + 1 : year, month, day, timeZone, offset, hour, minute, second, millisecond);\n}\n\n/**\n * Takes a `Date` object and converts it to the provided time zone.\n */\nexport function fromDate(date: Date, timeZone: string): ZonedDateTime {\n  return fromAbsolute(date.getTime(), timeZone);\n}\n\nexport function fromDateToLocal(date: Date): ZonedDateTime {\n  return fromDate(date, getLocalTimeZone());\n}\n\n/** Converts a value with date components such as a `CalendarDateTime` or `ZonedDateTime` into a `CalendarDate`. */\nexport function toCalendarDate(dateTime: AnyCalendarDate): CalendarDate {\n  return new CalendarDate(dateTime.calendar, dateTime.era, dateTime.year, dateTime.month, dateTime.day);\n}\n\nexport function toDateFields(date: AnyCalendarDate): DateFields {\n  return {\n    era: date.era,\n    year: date.year,\n    month: date.month,\n    day: date.day\n  };\n}\n\nexport function toTimeFields(date: AnyTime): TimeFields {\n  return {\n    hour: date.hour,\n    minute: date.minute,\n    second: date.second,\n    millisecond: date.millisecond\n  };\n}\n\n/**\n * Converts a date value to a `CalendarDateTime`. An optional `Time` value can be passed to set the time\n * of the resulting value, otherwise it will default to midnight.\n */\nexport function toCalendarDateTime(date: CalendarDate | CalendarDateTime | ZonedDateTime, time?: AnyTime): CalendarDateTime {\n  let hour = 0, minute = 0, second = 0, millisecond = 0;\n  if ('timeZone' in date) {\n    ({hour, minute, second, millisecond} = date);\n  } else if ('hour' in date && !time) {\n    return date;\n  }\n\n  if (time) {\n    ({hour, minute, second, millisecond} = time);\n  }\n\n  return new CalendarDateTime(\n    date.calendar,\n    date.era,\n    date.year,\n    date.month,\n    date.day,\n    hour,\n    minute,\n    second,\n    millisecond\n  );\n}\n\n/** Extracts the time components from a value containing a date and time. */\nexport function toTime(dateTime: CalendarDateTime | ZonedDateTime): Time {\n  return new Time(dateTime.hour, dateTime.minute, dateTime.second, dateTime.millisecond);\n}\n\n/** Converts a date from one calendar system to another. */\nexport function toCalendar<T extends AnyCalendarDate>(date: T, calendar: Calendar): T {\n  if (date.calendar.identifier === calendar.identifier) {\n    return date;\n  }\n\n  let calendarDate = calendar.fromJulianDay(date.calendar.toJulianDay(date));\n  let copy: Mutable<T> = date.copy();\n  copy.calendar = calendar;\n  copy.era = calendarDate.era;\n  copy.year = calendarDate.year;\n  copy.month = calendarDate.month;\n  copy.day = calendarDate.day;\n  constrain(copy);\n  return copy;\n}\n\n/**\n * Converts a date value to a `ZonedDateTime` in the provided time zone. The `disambiguation` option can be set\n * to control how values that fall on daylight saving time changes are interpreted.\n */\nexport function toZoned(date: CalendarDate | CalendarDateTime | ZonedDateTime, timeZone: string, disambiguation?: Disambiguation): ZonedDateTime {\n  if (date instanceof ZonedDateTime) {\n    if (date.timeZone === timeZone) {\n      return date;\n    }\n\n    return toTimeZone(date, timeZone);\n  }\n\n  let ms = toAbsolute(date, timeZone, disambiguation);\n  return fromAbsolute(ms, timeZone);\n}\n\nexport function zonedToDate(date: ZonedDateTime) {\n  let ms = epochFromDate(date) - date.offset;\n  return new Date(ms);\n}\n\n/** Converts a `ZonedDateTime` from one time zone to another. */\nexport function toTimeZone(date: ZonedDateTime, timeZone: string): ZonedDateTime {\n  let ms = epochFromDate(date) - date.offset;\n  return toCalendar(fromAbsolute(ms, timeZone), date.calendar);\n}\n\n/** Converts the given `ZonedDateTime` into the user's local time zone. */\nexport function toLocalTimeZone(date: ZonedDateTime): ZonedDateTime {\n  return toTimeZone(date, getLocalTimeZone());\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}