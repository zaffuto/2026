{"ast":null,"code":"var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n// src/affine-transform.ts\nvar AffineTransform = class _AffineTransform {\n  constructor([m00, m01, m02, m10, m11, m12] = [0, 0, 0, 0, 0, 0]) {\n    __publicField(this, \"m00\");\n    __publicField(this, \"m01\");\n    __publicField(this, \"m02\");\n    __publicField(this, \"m10\");\n    __publicField(this, \"m11\");\n    __publicField(this, \"m12\");\n    __publicField(this, \"rotate\", (...args) => {\n      return this.prepend(_AffineTransform.rotate(...args));\n    });\n    __publicField(this, \"scale\", (...args) => {\n      return this.prepend(_AffineTransform.scale(...args));\n    });\n    __publicField(this, \"translate\", (...args) => {\n      return this.prepend(_AffineTransform.translate(...args));\n    });\n    this.m00 = m00;\n    this.m01 = m01;\n    this.m02 = m02;\n    this.m10 = m10;\n    this.m11 = m11;\n    this.m12 = m12;\n  }\n  applyTo(point) {\n    const {\n      x,\n      y\n    } = point;\n    const {\n      m00,\n      m01,\n      m02,\n      m10,\n      m11,\n      m12\n    } = this;\n    return {\n      x: m00 * x + m01 * y + m02,\n      y: m10 * x + m11 * y + m12\n    };\n  }\n  prepend(other) {\n    return new _AffineTransform([this.m00 * other.m00 + this.m01 * other.m10,\n    // m00\n    this.m00 * other.m01 + this.m01 * other.m11,\n    // m01\n    this.m00 * other.m02 + this.m01 * other.m12 + this.m02,\n    // m02\n    this.m10 * other.m00 + this.m11 * other.m10,\n    // m10\n    this.m10 * other.m01 + this.m11 * other.m11,\n    // m11\n    this.m10 * other.m02 + this.m11 * other.m12 + this.m12\n    // m12\n    ]);\n  }\n  append(other) {\n    return new _AffineTransform([other.m00 * this.m00 + other.m01 * this.m10,\n    // m00\n    other.m00 * this.m01 + other.m01 * this.m11,\n    // m01\n    other.m00 * this.m02 + other.m01 * this.m12 + other.m02,\n    // m02\n    other.m10 * this.m00 + other.m11 * this.m10,\n    // m10\n    other.m10 * this.m01 + other.m11 * this.m11,\n    // m11\n    other.m10 * this.m02 + other.m11 * this.m12 + other.m12\n    // m12\n    ]);\n  }\n  get determinant() {\n    return this.m00 * this.m11 - this.m01 * this.m10;\n  }\n  get isInvertible() {\n    const det = this.determinant;\n    return isFinite(det) && isFinite(this.m02) && isFinite(this.m12) && det !== 0;\n  }\n  invert() {\n    const det = this.determinant;\n    return new _AffineTransform([this.m11 / det,\n    // m00\n    -this.m01 / det,\n    // m01\n    (this.m01 * this.m12 - this.m11 * this.m02) / det,\n    // m02\n    -this.m10 / det,\n    // m10\n    this.m00 / det,\n    // m11\n    (this.m10 * this.m02 - this.m00 * this.m12) / det\n    // m12\n    ]);\n  }\n  get array() {\n    return [this.m00, this.m01, this.m02, this.m10, this.m11, this.m12, 0, 0, 1];\n  }\n  get float32Array() {\n    return new Float32Array(this.array);\n  }\n  // Static\n  static get identity() {\n    return new _AffineTransform([1, 0, 0, 0, 1, 0]);\n  }\n  static rotate(theta, origin) {\n    const rotation = new _AffineTransform([Math.cos(theta), -Math.sin(theta), 0, Math.sin(theta), Math.cos(theta), 0]);\n    if (origin && (origin.x !== 0 || origin.y !== 0)) {\n      return _AffineTransform.multiply(_AffineTransform.translate(origin.x, origin.y), rotation, _AffineTransform.translate(-origin.x, -origin.y));\n    }\n    return rotation;\n  }\n  static scale(sx, sy = sx, origin = {\n    x: 0,\n    y: 0\n  }) {\n    const scale = new _AffineTransform([sx, 0, 0, 0, sy, 0]);\n    if (origin.x !== 0 || origin.y !== 0) {\n      return _AffineTransform.multiply(_AffineTransform.translate(origin.x, origin.y), scale, _AffineTransform.translate(-origin.x, -origin.y));\n    }\n    return scale;\n  }\n  static translate(tx, ty) {\n    return new _AffineTransform([1, 0, tx, 0, 1, ty]);\n  }\n  static multiply(...[first, ...rest]) {\n    if (!first) return _AffineTransform.identity;\n    return rest.reduce((result, item) => result.prepend(item), first);\n  }\n  get a() {\n    return this.m00;\n  }\n  get b() {\n    return this.m10;\n  }\n  get c() {\n    return this.m01;\n  }\n  get d() {\n    return this.m11;\n  }\n  get tx() {\n    return this.m02;\n  }\n  get ty() {\n    return this.m12;\n  }\n  get scaleComponents() {\n    return {\n      x: this.a,\n      y: this.d\n    };\n  }\n  get translationComponents() {\n    return {\n      x: this.tx,\n      y: this.ty\n    };\n  }\n  get skewComponents() {\n    return {\n      x: this.c,\n      y: this.b\n    };\n  }\n  toString() {\n    return `matrix(${this.a}, ${this.b}, ${this.c}, ${this.d}, ${this.tx}, ${this.ty})`;\n  }\n};\n\n// src/align.ts\nfunction hAlign(a, ref, h) {\n  let x = ref.minX;\n  if (h === \"left-inside\") x = ref.minX;\n  if (h === \"left-outside\") x = ref.minX - ref.width;\n  if (h === \"right-inside\") x = ref.maxX - ref.width;\n  if (h === \"right-outside\") x = ref.maxX;\n  if (h === \"center\") x = ref.midX - ref.width / 2;\n  return {\n    ...a,\n    x\n  };\n}\nfunction vAlign(a, ref, v) {\n  let y = ref.minY;\n  if (v === \"top-inside\") y = ref.minY;\n  if (v === \"top-outside\") y = ref.minY - a.height;\n  if (v === \"bottom-inside\") y = ref.maxY - a.height;\n  if (v === \"bottom-outside\") y = ref.maxY;\n  if (v === \"center\") y = ref.midY - a.height / 2;\n  return {\n    ...a,\n    y\n  };\n}\nfunction alignRect(a, ref, options) {\n  const {\n    h,\n    v\n  } = options;\n  return vAlign(hAlign(a, ref, h), ref, v);\n}\n\n// src/angle.ts\nfunction getPointAngle(rect, point, reference = rect.center) {\n  const x = point.x - reference.x;\n  const y = point.y - reference.y;\n  const deg = Math.atan2(x, y) * (180 / Math.PI) + 180;\n  return 360 - deg;\n}\n\n// src/clamp.ts\nvar clamp = (value, min3, max2) => Math.min(Math.max(value, min3), max2);\nvar clampPoint = (position, size, boundaryRect) => {\n  const x = clamp(position.x, boundaryRect.x, boundaryRect.x + boundaryRect.width - size.width);\n  const y = clamp(position.y, boundaryRect.y, boundaryRect.y + boundaryRect.height - size.height);\n  return {\n    x,\n    y\n  };\n};\nvar defaultMinSize = {\n  width: 0,\n  height: 0\n};\nvar defaultMaxSize = {\n  width: Infinity,\n  height: Infinity\n};\nvar clampSize = (size, minSize = defaultMinSize, maxSize = defaultMaxSize) => {\n  return {\n    width: Math.min(Math.max(size.width, minSize.width), maxSize.width),\n    height: Math.min(Math.max(size.height, minSize.height), maxSize.height)\n  };\n};\n\n// src/rect.ts\nvar createPoint = (x, y) => ({\n  x,\n  y\n});\nvar subtractPoints = (a, b) => createPoint(a.x - b.x, a.y - b.y);\nvar addPoints = (a, b) => createPoint(a.x + b.x, a.y + b.y);\nfunction isPoint(v) {\n  return Reflect.has(v, \"x\") && Reflect.has(v, \"y\");\n}\nfunction createRect(r) {\n  const {\n    x,\n    y,\n    width,\n    height\n  } = r;\n  const midX = x + width / 2;\n  const midY = y + height / 2;\n  return {\n    x,\n    y,\n    width,\n    height,\n    minX: x,\n    minY: y,\n    maxX: x + width,\n    maxY: y + height,\n    midX,\n    midY,\n    center: createPoint(midX, midY)\n  };\n}\nfunction isRect(v) {\n  return Reflect.has(v, \"x\") && Reflect.has(v, \"y\") && Reflect.has(v, \"width\") && Reflect.has(v, \"height\");\n}\nfunction getRectCenters(v) {\n  const top = createPoint(v.midX, v.minY);\n  const right = createPoint(v.maxX, v.midY);\n  const bottom = createPoint(v.midX, v.maxY);\n  const left = createPoint(v.minX, v.midY);\n  return {\n    top,\n    right,\n    bottom,\n    left\n  };\n}\nfunction getRectCorners(v) {\n  const top = createPoint(v.minX, v.minY);\n  const right = createPoint(v.maxX, v.minY);\n  const bottom = createPoint(v.maxX, v.maxY);\n  const left = createPoint(v.minX, v.maxY);\n  return {\n    top,\n    right,\n    bottom,\n    left\n  };\n}\nfunction getRectEdges(v) {\n  const c = getRectCorners(v);\n  const top = [c.top, c.right];\n  const right = [c.right, c.bottom];\n  const bottom = [c.left, c.bottom];\n  const left = [c.top, c.left];\n  return {\n    top,\n    right,\n    bottom,\n    left\n  };\n}\n\n// src/intersection.ts\nfunction intersects(a, b) {\n  return a.x < b.maxX && a.y < b.maxY && a.maxX > b.x && a.maxY > b.y;\n}\nfunction intersection(a, b) {\n  const x = Math.max(a.x, b.x);\n  const y = Math.max(a.y, b.y);\n  const x2 = Math.min(a.x + a.width, b.x + b.width);\n  const y2 = Math.min(a.y + a.height, b.y + b.height);\n  return createRect({\n    x,\n    y,\n    width: x2 - x,\n    height: y2 - y\n  });\n}\nfunction collisions(a, b) {\n  return {\n    top: a.minY <= b.minY,\n    right: a.maxX >= b.maxX,\n    bottom: a.maxY >= b.maxY,\n    left: a.minX <= b.minX\n  };\n}\n\n// src/distance.ts\nfunction distance(a, b = {\n  x: 0,\n  y: 0\n}) {\n  return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n}\nfunction distanceFromPoint(r, p) {\n  let x = 0;\n  let y = 0;\n  if (p.x < r.x) x = r.x - p.x;else if (p.x > r.maxX) x = p.x - r.maxX;\n  if (p.y < r.y) y = r.y - p.y;else if (p.y > r.maxY) y = p.y - r.maxY;\n  return {\n    x,\n    y,\n    value: distance({\n      x,\n      y\n    })\n  };\n}\nfunction distanceFromRect(a, b) {\n  if (intersects(a, b)) return {\n    x: 0,\n    y: 0,\n    value: 0\n  };\n  const left = a.x < b.x ? a : b;\n  const right = b.x < a.x ? a : b;\n  const upper = a.y < b.y ? a : b;\n  const lower = b.y < a.y ? a : b;\n  let x = left.x === right.x ? 0 : right.x - left.maxX;\n  x = Math.max(0, x);\n  let y = upper.y === lower.y ? 0 : lower.y - upper.maxY;\n  y = Math.max(0, y);\n  return {\n    x,\n    y,\n    value: distance({\n      x,\n      y\n    })\n  };\n}\nfunction distanceBtwEdges(a, b) {\n  return {\n    left: b.x - a.x,\n    top: b.y - a.y,\n    right: a.maxX - b.maxX,\n    bottom: a.maxY - b.maxY\n  };\n}\n\n// src/closest.ts\nfunction closest(...pts) {\n  return a => {\n    const ds = pts.map(b => distance(b, a));\n    const c = Math.min.apply(Math, ds);\n    return pts[ds.indexOf(c)];\n  };\n}\nfunction closestSideToRect(ref, r) {\n  if (r.maxX <= ref.minX) return \"left\";\n  if (r.minX >= ref.maxX) return \"right\";\n  if (r.maxY <= ref.minY) return \"top\";\n  if (r.minY >= ref.maxY) return \"bottom\";\n  return \"left\";\n}\nfunction closestSideToPoint(ref, p) {\n  const {\n    x,\n    y\n  } = p;\n  const dl = x - ref.minX;\n  const dr = ref.maxX - x;\n  const dt = y - ref.minY;\n  const db = ref.maxY - y;\n  let closest2 = dl;\n  let side = \"left\";\n  if (dr < closest2) {\n    closest2 = dr;\n    side = \"right\";\n  }\n  if (dt < closest2) {\n    closest2 = dt;\n    side = \"top\";\n  }\n  if (db < closest2) {\n    side = \"bottom\";\n  }\n  return side;\n}\n\n// src/constrain.ts\nvar constrainRect = (rect, boundary) => {\n  const left = Math.max(boundary.x, Math.min(rect.x, boundary.x + boundary.width - rect.width));\n  const top = Math.max(boundary.y, Math.min(rect.y, boundary.y + boundary.height - rect.height));\n  return {\n    x: left,\n    y: top,\n    width: Math.min(rect.width, boundary.width),\n    height: Math.min(rect.height, boundary.height)\n  };\n};\n\n// src/contains.ts\nfunction containsPoint(r, p) {\n  return r.minX <= p.x && p.x <= r.maxX && r.minY <= p.y && p.y <= r.maxY;\n}\nfunction containsRect(a, b) {\n  return Object.values(getRectCorners(b)).every(c => containsPoint(a, c));\n}\nfunction contains(r, v) {\n  return isRect(v) ? containsRect(r, v) : containsPoint(r, v);\n}\n\n// src/equality.ts\nvar isSizeEqual = (a, b) => {\n  return a.width === b.width && a.height === b.height;\n};\nvar isPointEqual = (a, b) => {\n  return a.x === b.x && a.y === b.y;\n};\nvar isRectEqual = (a, b) => {\n  return isPointEqual(a, b) && isSizeEqual(a, b);\n};\n\n// src/from-element.ts\nvar styleCache = /* @__PURE__ */new WeakMap();\nfunction getCacheComputedStyle(el) {\n  if (!styleCache.has(el)) {\n    const win = el.ownerDocument.defaultView || window;\n    styleCache.set(el, win.getComputedStyle(el));\n  }\n  return styleCache.get(el);\n}\nfunction getElementRect(el, opts = {}) {\n  return createRect(getClientRect(el, opts));\n}\nfunction getClientRect(el, opts = {}) {\n  const {\n    excludeScrollbar = false,\n    excludeBorders = false\n  } = opts;\n  const {\n    x,\n    y,\n    width,\n    height\n  } = el.getBoundingClientRect();\n  const r = {\n    x,\n    y,\n    width,\n    height\n  };\n  const style = getCacheComputedStyle(el);\n  const {\n    borderLeftWidth,\n    borderTopWidth,\n    borderRightWidth,\n    borderBottomWidth\n  } = style;\n  const borderXWidth = sum(borderLeftWidth, borderRightWidth);\n  const borderYWidth = sum(borderTopWidth, borderBottomWidth);\n  if (excludeBorders) {\n    r.width -= borderXWidth;\n    r.height -= borderYWidth;\n    r.x += px(borderLeftWidth);\n    r.y += px(borderTopWidth);\n  }\n  if (excludeScrollbar) {\n    const scrollbarWidth = el.offsetWidth - el.clientWidth - borderXWidth;\n    const scrollbarHeight = el.offsetHeight - el.clientHeight - borderYWidth;\n    r.width -= scrollbarWidth;\n    r.height -= scrollbarHeight;\n  }\n  return r;\n}\nvar px = v => parseFloat(v.replace(\"px\", \"\"));\nvar sum = (...vals) => vals.reduce((sum2, v) => sum2 + (v ? px(v) : 0), 0);\n\n// src/from-points.ts\nfunction getRectFromPoints(...pts) {\n  const xs = pts.map(p => p.x);\n  const ys = pts.map(p => p.y);\n  const x = Math.min(...xs);\n  const y = Math.min(...ys);\n  const width = Math.max(...xs) - x;\n  const height = Math.max(...ys) - y;\n  return createRect({\n    x,\n    y,\n    width,\n    height\n  });\n}\n\n// src/union.ts\nvar {\n  min,\n  max\n} = Math;\nfunction union(...rs) {\n  const pMin = {\n    x: min(...rs.map(r => r.minX)),\n    y: min(...rs.map(r => r.minY))\n  };\n  const pMax = {\n    x: max(...rs.map(r => r.maxX)),\n    y: max(...rs.map(r => r.maxY))\n  };\n  return getRectFromPoints(pMin, pMax);\n}\n\n// src/from-range.ts\nfunction fromRange(range) {\n  let rs = [];\n  const rects = Array.from(range.getClientRects());\n  if (rects.length) {\n    rs = rs.concat(rects.map(createRect));\n    return union.apply(void 0, rs);\n  }\n  let start = range.startContainer;\n  if (start.nodeType === Node.TEXT_NODE) {\n    start = start.parentNode;\n  }\n  if (start instanceof HTMLElement) {\n    const r = getElementRect(start);\n    rs.push({\n      ...r,\n      x: r.maxX,\n      width: 0\n    });\n  }\n  return union.apply(void 0, rs);\n}\n\n// src/from-rotation.ts\nfunction toRad(d) {\n  return d % 360 * Math.PI / 180;\n}\nfunction rotate(a, d, c) {\n  const r = toRad(d);\n  const sin = Math.sin(r);\n  const cos = Math.cos(r);\n  const x = a.x - c.x;\n  const y = a.y - c.y;\n  return {\n    x: c.x + x * cos - y * sin,\n    y: c.y + x * sin + y * cos\n  };\n}\nfunction getRotationRect(r, deg) {\n  const rr = Object.values(getRectCorners(r)).map(p => rotate(p, deg, r.center));\n  const xs = rr.map(p => p.x);\n  const ys = rr.map(p => p.y);\n  const minX = Math.min(...xs);\n  const minY = Math.min(...ys);\n  const maxX = Math.max(...xs);\n  const maxY = Math.max(...ys);\n  return createRect({\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  });\n}\n\n// src/from-window.ts\nfunction getWindowRect(win, opts = {}) {\n  return createRect(getViewportRect(win, opts));\n}\nfunction getViewportRect(win, opts) {\n  const {\n    excludeScrollbar = false\n  } = opts;\n  const {\n    innerWidth,\n    innerHeight,\n    document: doc,\n    visualViewport\n  } = win;\n  const width = visualViewport?.width || innerWidth;\n  const height = visualViewport?.height || innerHeight;\n  const rect = {\n    x: 0,\n    y: 0,\n    width,\n    height\n  };\n  if (excludeScrollbar) {\n    const scrollbarWidth = innerWidth - doc.documentElement.clientWidth;\n    const scrollbarHeight = innerHeight - doc.documentElement.clientHeight;\n    rect.width -= scrollbarWidth;\n    rect.height -= scrollbarHeight;\n  }\n  return rect;\n}\n\n// src/operations.ts\nvar isSymmetric = v => \"dx\" in v || \"dy\" in v;\nfunction inset(r, i) {\n  const v = isSymmetric(i) ? {\n    left: i.dx,\n    right: i.dx,\n    top: i.dy,\n    bottom: i.dy\n  } : i;\n  const {\n    top = 0,\n    right = 0,\n    bottom = 0,\n    left = 0\n  } = v;\n  return createRect({\n    x: r.x + left,\n    y: r.y + top,\n    width: r.width - left - right,\n    height: r.height - top - bottom\n  });\n}\nfunction expand(r, v) {\n  const value = typeof v === \"number\" ? {\n    dx: -v,\n    dy: -v\n  } : v;\n  return inset(r, value);\n}\nfunction shrink(r, v) {\n  const value = typeof v === \"number\" ? {\n    dx: -v,\n    dy: -v\n  } : v;\n  return inset(r, value);\n}\nfunction shift(r, o) {\n  const {\n    x = 0,\n    y = 0\n  } = o;\n  return createRect({\n    x: r.x + x,\n    y: r.y + y,\n    width: r.width,\n    height: r.height\n  });\n}\n\n// src/polygon.ts\nfunction getElementPolygon(rectValue, placement) {\n  const rect = createRect(rectValue);\n  const {\n    top,\n    right,\n    left,\n    bottom\n  } = getRectCorners(rect);\n  const [base] = placement.split(\"-\");\n  return {\n    top: [left, top, right, bottom],\n    right: [top, right, bottom, left],\n    bottom: [top, left, bottom, right],\n    left: [right, top, left, bottom]\n  }[base];\n}\nfunction isPointInPolygon(polygon, point) {\n  const {\n    x,\n    y\n  } = point;\n  let c = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const xi = polygon[i].x;\n    const yi = polygon[i].y;\n    const xj = polygon[j].x;\n    const yj = polygon[j].y;\n    if (yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi) {\n      c = !c;\n    }\n  }\n  return c;\n}\nfunction createPolygonElement() {\n  const id = \"debug-polygon\";\n  const existingPolygon = document.getElementById(id);\n  if (existingPolygon) {\n    return existingPolygon;\n  }\n  const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  Object.assign(svg.style, {\n    top: \"0\",\n    left: \"0\",\n    width: \"100%\",\n    height: \"100%\",\n    opacity: \"0.15\",\n    position: \"fixed\",\n    pointerEvents: \"none\",\n    fill: \"red\"\n  });\n  const polygon = document.createElementNS(\"http://www.w3.org/2000/svg\", \"polygon\");\n  polygon.setAttribute(\"id\", id);\n  polygon.setAttribute(\"points\", \"0,0 0,0\");\n  svg.appendChild(polygon);\n  document.body.appendChild(svg);\n  return polygon;\n}\nfunction debugPolygon(polygon) {\n  const el = createPolygonElement();\n  const points = polygon.map(point => `${point.x},${point.y}`).join(\" \");\n  el.setAttribute(\"points\", points);\n  return () => {\n    el.remove();\n  };\n}\n\n// src/compass.ts\nvar compassDirectionMap = {\n  n: {\n    x: 0.5,\n    y: 0\n  },\n  ne: {\n    x: 1,\n    y: 0\n  },\n  e: {\n    x: 1,\n    y: 0.5\n  },\n  se: {\n    x: 1,\n    y: 1\n  },\n  s: {\n    x: 0.5,\n    y: 1\n  },\n  sw: {\n    x: 0,\n    y: 1\n  },\n  w: {\n    x: 0,\n    y: 0.5\n  },\n  nw: {\n    x: 0,\n    y: 0\n  }\n};\nvar oppositeDirectionMap = {\n  n: \"s\",\n  ne: \"sw\",\n  e: \"w\",\n  se: \"nw\",\n  s: \"n\",\n  sw: \"ne\",\n  w: \"e\",\n  nw: \"se\"\n};\n\n// src/resize.ts\nvar {\n  sign,\n  abs,\n  min: min2\n} = Math;\nfunction getRectExtentPoint(rect, direction) {\n  const {\n    minX,\n    minY,\n    maxX,\n    maxY,\n    midX,\n    midY\n  } = rect;\n  const x = direction.includes(\"w\") ? minX : direction.includes(\"e\") ? maxX : midX;\n  const y = direction.includes(\"n\") ? minY : direction.includes(\"s\") ? maxY : midY;\n  return {\n    x,\n    y\n  };\n}\nfunction getOppositeDirection(direction) {\n  return oppositeDirectionMap[direction];\n}\nfunction resizeRect(rect, offset, direction, opts) {\n  const {\n    scalingOriginMode,\n    lockAspectRatio\n  } = opts;\n  const extent = getRectExtentPoint(rect, direction);\n  const oppositeDirection = getOppositeDirection(direction);\n  const oppositeExtent = getRectExtentPoint(rect, oppositeDirection);\n  if (scalingOriginMode === \"center\") {\n    offset = {\n      x: offset.x * 2,\n      y: offset.y * 2\n    };\n  }\n  const newExtent = {\n    x: extent.x + offset.x,\n    y: extent.y + offset.y\n  };\n  const multiplier = {\n    x: compassDirectionMap[direction].x * 2 - 1,\n    y: compassDirectionMap[direction].y * 2 - 1\n  };\n  const newSize = {\n    width: newExtent.x - oppositeExtent.x,\n    height: newExtent.y - oppositeExtent.y\n  };\n  const scaleX = multiplier.x * newSize.width / rect.width;\n  const scaleY = multiplier.y * newSize.height / rect.height;\n  const largestMagnitude = abs(scaleX) > abs(scaleY) ? scaleX : scaleY;\n  const scale = lockAspectRatio ? {\n    x: largestMagnitude,\n    y: largestMagnitude\n  } : {\n    x: extent.x === oppositeExtent.x ? 1 : scaleX,\n    y: extent.y === oppositeExtent.y ? 1 : scaleY\n  };\n  if (extent.y === oppositeExtent.y) {\n    scale.y = abs(scale.y);\n  } else if (sign(scale.y) !== sign(scaleY)) {\n    scale.y *= -1;\n  }\n  if (extent.x === oppositeExtent.x) {\n    scale.x = abs(scale.x);\n  } else if (sign(scale.x) !== sign(scaleX)) {\n    scale.x *= -1;\n  }\n  switch (scalingOriginMode) {\n    case \"extent\":\n      return transformRect(rect, AffineTransform.scale(scale.x, scale.y, oppositeExtent), false);\n    case \"center\":\n      return transformRect(rect, AffineTransform.scale(scale.x, scale.y, {\n        x: rect.midX,\n        y: rect.midY\n      }), false);\n  }\n}\nfunction createRectFromPoints(initialPoint, finalPoint, normalized = true) {\n  if (normalized) {\n    return {\n      x: min2(finalPoint.x, initialPoint.x),\n      y: min2(finalPoint.y, initialPoint.y),\n      width: abs(finalPoint.x - initialPoint.x),\n      height: abs(finalPoint.y - initialPoint.y)\n    };\n  }\n  return {\n    x: initialPoint.x,\n    y: initialPoint.y,\n    width: finalPoint.x - initialPoint.x,\n    height: finalPoint.y - initialPoint.y\n  };\n}\nfunction transformRect(rect, transform, normalized = true) {\n  const p1 = transform.applyTo({\n    x: rect.minX,\n    y: rect.minY\n  });\n  const p2 = transform.applyTo({\n    x: rect.maxX,\n    y: rect.maxY\n  });\n  return createRectFromPoints(p1, p2, normalized);\n}\nexport { AffineTransform, addPoints, alignRect, clampPoint, clampSize, closest, closestSideToPoint, closestSideToRect, collisions, constrainRect, contains, containsPoint, containsRect, createPoint, createRect, debugPolygon, distance, distanceBtwEdges, distanceFromPoint, distanceFromRect, expand, fromRange, getElementPolygon, getElementRect, getPointAngle, getRectCenters, getRectCorners, getRectEdges, getRectFromPoints, getRotationRect, getViewportRect, getWindowRect, inset, intersection, intersects, isPoint, isPointEqual, isPointInPolygon, isRect, isRectEqual, isSizeEqual, isSymmetric, resizeRect, rotate, shift, shrink, subtractPoints, toRad, union };","map":{"version":3,"names":["__defProp","Object","defineProperty","__defNormalProp","obj","key","value","enumerable","configurable","writable","__publicField","AffineTransform","_AffineTransform","constructor","m00","m01","m02","m10","m11","m12","args","prepend","rotate","scale","translate","applyTo","point","x","y","other","append","determinant","isInvertible","det","isFinite","invert","array","float32Array","Float32Array","identity","theta","origin","rotation","Math","cos","sin","multiply","sx","sy","tx","ty","first","rest","reduce","result","item","a","b","c","d","scaleComponents","translationComponents","skewComponents","toString","hAlign","ref","h","minX","width","maxX","midX","vAlign","v","minY","height","maxY","midY","alignRect","options","getPointAngle","rect","reference","center","deg","atan2","PI","clamp","min3","max2","min","max","clampPoint","position","size","boundaryRect","defaultMinSize","defaultMaxSize","Infinity","clampSize","minSize","maxSize","createPoint","subtractPoints","addPoints","isPoint","Reflect","has","createRect","r","isRect","getRectCenters","top","right","bottom","left","getRectCorners","getRectEdges","intersects","intersection","x2","y2","collisions","distance","sqrt","pow","distanceFromPoint","p","distanceFromRect","upper","lower","distanceBtwEdges","closest","pts","ds","map","apply","indexOf","closestSideToRect","closestSideToPoint","dl","dr","dt","db","closest2","side","constrainRect","boundary","containsPoint","containsRect","values","every","contains","isSizeEqual","isPointEqual","isRectEqual","styleCache","WeakMap","getCacheComputedStyle","el","win","ownerDocument","defaultView","window","set","getComputedStyle","get","getElementRect","opts","getClientRect","excludeScrollbar","excludeBorders","getBoundingClientRect","style","borderLeftWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderXWidth","sum","borderYWidth","px","scrollbarWidth","offsetWidth","clientWidth","scrollbarHeight","offsetHeight","clientHeight","parseFloat","replace","vals","sum2","getRectFromPoints","xs","ys","union","rs","pMin","pMax","fromRange","range","rects","Array","from","getClientRects","length","concat","start","startContainer","nodeType","Node","TEXT_NODE","parentNode","HTMLElement","push","toRad","getRotationRect","rr","getWindowRect","getViewportRect","innerWidth","innerHeight","document","doc","visualViewport","documentElement","isSymmetric","inset","i","dx","dy","expand","shrink","shift","o","getElementPolygon","rectValue","placement","base","split","isPointInPolygon","polygon","j","xi","yi","xj","yj","createPolygonElement","id","existingPolygon","getElementById","svg","createElementNS","assign","opacity","pointerEvents","fill","setAttribute","appendChild","body","debugPolygon","points","join","remove","compassDirectionMap","n","ne","e","se","s","sw","w","nw","oppositeDirectionMap","sign","abs","min2","getRectExtentPoint","direction","includes","getOppositeDirection","resizeRect","offset","scalingOriginMode","lockAspectRatio","extent","oppositeDirection","oppositeExtent","newExtent","multiplier","newSize","scaleX","scaleY","largestMagnitude","transformRect","createRectFromPoints","initialPoint","finalPoint","normalized","transform","p1","p2"],"sources":["/Users/macbook/developer/2025/2026/node_modules/@zag-js/rect-utils/dist/index.mjs"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n// src/affine-transform.ts\nvar AffineTransform = class _AffineTransform {\n  constructor([m00, m01, m02, m10, m11, m12] = [0, 0, 0, 0, 0, 0]) {\n    __publicField(this, \"m00\");\n    __publicField(this, \"m01\");\n    __publicField(this, \"m02\");\n    __publicField(this, \"m10\");\n    __publicField(this, \"m11\");\n    __publicField(this, \"m12\");\n    __publicField(this, \"rotate\", (...args) => {\n      return this.prepend(_AffineTransform.rotate(...args));\n    });\n    __publicField(this, \"scale\", (...args) => {\n      return this.prepend(_AffineTransform.scale(...args));\n    });\n    __publicField(this, \"translate\", (...args) => {\n      return this.prepend(_AffineTransform.translate(...args));\n    });\n    this.m00 = m00;\n    this.m01 = m01;\n    this.m02 = m02;\n    this.m10 = m10;\n    this.m11 = m11;\n    this.m12 = m12;\n  }\n  applyTo(point) {\n    const { x, y } = point;\n    const { m00, m01, m02, m10, m11, m12 } = this;\n    return {\n      x: m00 * x + m01 * y + m02,\n      y: m10 * x + m11 * y + m12\n    };\n  }\n  prepend(other) {\n    return new _AffineTransform([\n      this.m00 * other.m00 + this.m01 * other.m10,\n      // m00\n      this.m00 * other.m01 + this.m01 * other.m11,\n      // m01\n      this.m00 * other.m02 + this.m01 * other.m12 + this.m02,\n      // m02\n      this.m10 * other.m00 + this.m11 * other.m10,\n      // m10\n      this.m10 * other.m01 + this.m11 * other.m11,\n      // m11\n      this.m10 * other.m02 + this.m11 * other.m12 + this.m12\n      // m12\n    ]);\n  }\n  append(other) {\n    return new _AffineTransform([\n      other.m00 * this.m00 + other.m01 * this.m10,\n      // m00\n      other.m00 * this.m01 + other.m01 * this.m11,\n      // m01\n      other.m00 * this.m02 + other.m01 * this.m12 + other.m02,\n      // m02\n      other.m10 * this.m00 + other.m11 * this.m10,\n      // m10\n      other.m10 * this.m01 + other.m11 * this.m11,\n      // m11\n      other.m10 * this.m02 + other.m11 * this.m12 + other.m12\n      // m12\n    ]);\n  }\n  get determinant() {\n    return this.m00 * this.m11 - this.m01 * this.m10;\n  }\n  get isInvertible() {\n    const det = this.determinant;\n    return isFinite(det) && isFinite(this.m02) && isFinite(this.m12) && det !== 0;\n  }\n  invert() {\n    const det = this.determinant;\n    return new _AffineTransform([\n      this.m11 / det,\n      // m00\n      -this.m01 / det,\n      // m01\n      (this.m01 * this.m12 - this.m11 * this.m02) / det,\n      // m02\n      -this.m10 / det,\n      // m10\n      this.m00 / det,\n      // m11\n      (this.m10 * this.m02 - this.m00 * this.m12) / det\n      // m12\n    ]);\n  }\n  get array() {\n    return [this.m00, this.m01, this.m02, this.m10, this.m11, this.m12, 0, 0, 1];\n  }\n  get float32Array() {\n    return new Float32Array(this.array);\n  }\n  // Static\n  static get identity() {\n    return new _AffineTransform([1, 0, 0, 0, 1, 0]);\n  }\n  static rotate(theta, origin) {\n    const rotation = new _AffineTransform([Math.cos(theta), -Math.sin(theta), 0, Math.sin(theta), Math.cos(theta), 0]);\n    if (origin && (origin.x !== 0 || origin.y !== 0)) {\n      return _AffineTransform.multiply(\n        _AffineTransform.translate(origin.x, origin.y),\n        rotation,\n        _AffineTransform.translate(-origin.x, -origin.y)\n      );\n    }\n    return rotation;\n  }\n  static scale(sx, sy = sx, origin = { x: 0, y: 0 }) {\n    const scale = new _AffineTransform([sx, 0, 0, 0, sy, 0]);\n    if (origin.x !== 0 || origin.y !== 0) {\n      return _AffineTransform.multiply(\n        _AffineTransform.translate(origin.x, origin.y),\n        scale,\n        _AffineTransform.translate(-origin.x, -origin.y)\n      );\n    }\n    return scale;\n  }\n  static translate(tx, ty) {\n    return new _AffineTransform([1, 0, tx, 0, 1, ty]);\n  }\n  static multiply(...[first, ...rest]) {\n    if (!first) return _AffineTransform.identity;\n    return rest.reduce((result, item) => result.prepend(item), first);\n  }\n  get a() {\n    return this.m00;\n  }\n  get b() {\n    return this.m10;\n  }\n  get c() {\n    return this.m01;\n  }\n  get d() {\n    return this.m11;\n  }\n  get tx() {\n    return this.m02;\n  }\n  get ty() {\n    return this.m12;\n  }\n  get scaleComponents() {\n    return { x: this.a, y: this.d };\n  }\n  get translationComponents() {\n    return { x: this.tx, y: this.ty };\n  }\n  get skewComponents() {\n    return { x: this.c, y: this.b };\n  }\n  toString() {\n    return `matrix(${this.a}, ${this.b}, ${this.c}, ${this.d}, ${this.tx}, ${this.ty})`;\n  }\n};\n\n// src/align.ts\nfunction hAlign(a, ref, h) {\n  let x = ref.minX;\n  if (h === \"left-inside\") x = ref.minX;\n  if (h === \"left-outside\") x = ref.minX - ref.width;\n  if (h === \"right-inside\") x = ref.maxX - ref.width;\n  if (h === \"right-outside\") x = ref.maxX;\n  if (h === \"center\") x = ref.midX - ref.width / 2;\n  return { ...a, x };\n}\nfunction vAlign(a, ref, v) {\n  let y = ref.minY;\n  if (v === \"top-inside\") y = ref.minY;\n  if (v === \"top-outside\") y = ref.minY - a.height;\n  if (v === \"bottom-inside\") y = ref.maxY - a.height;\n  if (v === \"bottom-outside\") y = ref.maxY;\n  if (v === \"center\") y = ref.midY - a.height / 2;\n  return { ...a, y };\n}\nfunction alignRect(a, ref, options) {\n  const { h, v } = options;\n  return vAlign(hAlign(a, ref, h), ref, v);\n}\n\n// src/angle.ts\nfunction getPointAngle(rect, point, reference = rect.center) {\n  const x = point.x - reference.x;\n  const y = point.y - reference.y;\n  const deg = Math.atan2(x, y) * (180 / Math.PI) + 180;\n  return 360 - deg;\n}\n\n// src/clamp.ts\nvar clamp = (value, min3, max2) => Math.min(Math.max(value, min3), max2);\nvar clampPoint = (position, size, boundaryRect) => {\n  const x = clamp(position.x, boundaryRect.x, boundaryRect.x + boundaryRect.width - size.width);\n  const y = clamp(position.y, boundaryRect.y, boundaryRect.y + boundaryRect.height - size.height);\n  return { x, y };\n};\nvar defaultMinSize = {\n  width: 0,\n  height: 0\n};\nvar defaultMaxSize = {\n  width: Infinity,\n  height: Infinity\n};\nvar clampSize = (size, minSize = defaultMinSize, maxSize = defaultMaxSize) => {\n  return {\n    width: Math.min(Math.max(size.width, minSize.width), maxSize.width),\n    height: Math.min(Math.max(size.height, minSize.height), maxSize.height)\n  };\n};\n\n// src/rect.ts\nvar createPoint = (x, y) => ({ x, y });\nvar subtractPoints = (a, b) => createPoint(a.x - b.x, a.y - b.y);\nvar addPoints = (a, b) => createPoint(a.x + b.x, a.y + b.y);\nfunction isPoint(v) {\n  return Reflect.has(v, \"x\") && Reflect.has(v, \"y\");\n}\nfunction createRect(r) {\n  const { x, y, width, height } = r;\n  const midX = x + width / 2;\n  const midY = y + height / 2;\n  return {\n    x,\n    y,\n    width,\n    height,\n    minX: x,\n    minY: y,\n    maxX: x + width,\n    maxY: y + height,\n    midX,\n    midY,\n    center: createPoint(midX, midY)\n  };\n}\nfunction isRect(v) {\n  return Reflect.has(v, \"x\") && Reflect.has(v, \"y\") && Reflect.has(v, \"width\") && Reflect.has(v, \"height\");\n}\nfunction getRectCenters(v) {\n  const top = createPoint(v.midX, v.minY);\n  const right = createPoint(v.maxX, v.midY);\n  const bottom = createPoint(v.midX, v.maxY);\n  const left = createPoint(v.minX, v.midY);\n  return { top, right, bottom, left };\n}\nfunction getRectCorners(v) {\n  const top = createPoint(v.minX, v.minY);\n  const right = createPoint(v.maxX, v.minY);\n  const bottom = createPoint(v.maxX, v.maxY);\n  const left = createPoint(v.minX, v.maxY);\n  return { top, right, bottom, left };\n}\nfunction getRectEdges(v) {\n  const c = getRectCorners(v);\n  const top = [c.top, c.right];\n  const right = [c.right, c.bottom];\n  const bottom = [c.left, c.bottom];\n  const left = [c.top, c.left];\n  return { top, right, bottom, left };\n}\n\n// src/intersection.ts\nfunction intersects(a, b) {\n  return a.x < b.maxX && a.y < b.maxY && a.maxX > b.x && a.maxY > b.y;\n}\nfunction intersection(a, b) {\n  const x = Math.max(a.x, b.x);\n  const y = Math.max(a.y, b.y);\n  const x2 = Math.min(a.x + a.width, b.x + b.width);\n  const y2 = Math.min(a.y + a.height, b.y + b.height);\n  return createRect({ x, y, width: x2 - x, height: y2 - y });\n}\nfunction collisions(a, b) {\n  return {\n    top: a.minY <= b.minY,\n    right: a.maxX >= b.maxX,\n    bottom: a.maxY >= b.maxY,\n    left: a.minX <= b.minX\n  };\n}\n\n// src/distance.ts\nfunction distance(a, b = { x: 0, y: 0 }) {\n  return Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n}\nfunction distanceFromPoint(r, p) {\n  let x = 0;\n  let y = 0;\n  if (p.x < r.x) x = r.x - p.x;\n  else if (p.x > r.maxX) x = p.x - r.maxX;\n  if (p.y < r.y) y = r.y - p.y;\n  else if (p.y > r.maxY) y = p.y - r.maxY;\n  return { x, y, value: distance({ x, y }) };\n}\nfunction distanceFromRect(a, b) {\n  if (intersects(a, b)) return { x: 0, y: 0, value: 0 };\n  const left = a.x < b.x ? a : b;\n  const right = b.x < a.x ? a : b;\n  const upper = a.y < b.y ? a : b;\n  const lower = b.y < a.y ? a : b;\n  let x = left.x === right.x ? 0 : right.x - left.maxX;\n  x = Math.max(0, x);\n  let y = upper.y === lower.y ? 0 : lower.y - upper.maxY;\n  y = Math.max(0, y);\n  return { x, y, value: distance({ x, y }) };\n}\nfunction distanceBtwEdges(a, b) {\n  return {\n    left: b.x - a.x,\n    top: b.y - a.y,\n    right: a.maxX - b.maxX,\n    bottom: a.maxY - b.maxY\n  };\n}\n\n// src/closest.ts\nfunction closest(...pts) {\n  return (a) => {\n    const ds = pts.map((b) => distance(b, a));\n    const c = Math.min.apply(Math, ds);\n    return pts[ds.indexOf(c)];\n  };\n}\nfunction closestSideToRect(ref, r) {\n  if (r.maxX <= ref.minX) return \"left\";\n  if (r.minX >= ref.maxX) return \"right\";\n  if (r.maxY <= ref.minY) return \"top\";\n  if (r.minY >= ref.maxY) return \"bottom\";\n  return \"left\";\n}\nfunction closestSideToPoint(ref, p) {\n  const { x, y } = p;\n  const dl = x - ref.minX;\n  const dr = ref.maxX - x;\n  const dt = y - ref.minY;\n  const db = ref.maxY - y;\n  let closest2 = dl;\n  let side = \"left\";\n  if (dr < closest2) {\n    closest2 = dr;\n    side = \"right\";\n  }\n  if (dt < closest2) {\n    closest2 = dt;\n    side = \"top\";\n  }\n  if (db < closest2) {\n    side = \"bottom\";\n  }\n  return side;\n}\n\n// src/constrain.ts\nvar constrainRect = (rect, boundary) => {\n  const left = Math.max(boundary.x, Math.min(rect.x, boundary.x + boundary.width - rect.width));\n  const top = Math.max(boundary.y, Math.min(rect.y, boundary.y + boundary.height - rect.height));\n  return {\n    x: left,\n    y: top,\n    width: Math.min(rect.width, boundary.width),\n    height: Math.min(rect.height, boundary.height)\n  };\n};\n\n// src/contains.ts\nfunction containsPoint(r, p) {\n  return r.minX <= p.x && p.x <= r.maxX && r.minY <= p.y && p.y <= r.maxY;\n}\nfunction containsRect(a, b) {\n  return Object.values(getRectCorners(b)).every((c) => containsPoint(a, c));\n}\nfunction contains(r, v) {\n  return isRect(v) ? containsRect(r, v) : containsPoint(r, v);\n}\n\n// src/equality.ts\nvar isSizeEqual = (a, b) => {\n  return a.width === b.width && a.height === b.height;\n};\nvar isPointEqual = (a, b) => {\n  return a.x === b.x && a.y === b.y;\n};\nvar isRectEqual = (a, b) => {\n  return isPointEqual(a, b) && isSizeEqual(a, b);\n};\n\n// src/from-element.ts\nvar styleCache = /* @__PURE__ */ new WeakMap();\nfunction getCacheComputedStyle(el) {\n  if (!styleCache.has(el)) {\n    const win = el.ownerDocument.defaultView || window;\n    styleCache.set(el, win.getComputedStyle(el));\n  }\n  return styleCache.get(el);\n}\nfunction getElementRect(el, opts = {}) {\n  return createRect(getClientRect(el, opts));\n}\nfunction getClientRect(el, opts = {}) {\n  const { excludeScrollbar = false, excludeBorders = false } = opts;\n  const { x, y, width, height } = el.getBoundingClientRect();\n  const r = { x, y, width, height };\n  const style = getCacheComputedStyle(el);\n  const { borderLeftWidth, borderTopWidth, borderRightWidth, borderBottomWidth } = style;\n  const borderXWidth = sum(borderLeftWidth, borderRightWidth);\n  const borderYWidth = sum(borderTopWidth, borderBottomWidth);\n  if (excludeBorders) {\n    r.width -= borderXWidth;\n    r.height -= borderYWidth;\n    r.x += px(borderLeftWidth);\n    r.y += px(borderTopWidth);\n  }\n  if (excludeScrollbar) {\n    const scrollbarWidth = el.offsetWidth - el.clientWidth - borderXWidth;\n    const scrollbarHeight = el.offsetHeight - el.clientHeight - borderYWidth;\n    r.width -= scrollbarWidth;\n    r.height -= scrollbarHeight;\n  }\n  return r;\n}\nvar px = (v) => parseFloat(v.replace(\"px\", \"\"));\nvar sum = (...vals) => vals.reduce((sum2, v) => sum2 + (v ? px(v) : 0), 0);\n\n// src/from-points.ts\nfunction getRectFromPoints(...pts) {\n  const xs = pts.map((p) => p.x);\n  const ys = pts.map((p) => p.y);\n  const x = Math.min(...xs);\n  const y = Math.min(...ys);\n  const width = Math.max(...xs) - x;\n  const height = Math.max(...ys) - y;\n  return createRect({ x, y, width, height });\n}\n\n// src/union.ts\nvar { min, max } = Math;\nfunction union(...rs) {\n  const pMin = {\n    x: min(...rs.map((r) => r.minX)),\n    y: min(...rs.map((r) => r.minY))\n  };\n  const pMax = {\n    x: max(...rs.map((r) => r.maxX)),\n    y: max(...rs.map((r) => r.maxY))\n  };\n  return getRectFromPoints(pMin, pMax);\n}\n\n// src/from-range.ts\nfunction fromRange(range) {\n  let rs = [];\n  const rects = Array.from(range.getClientRects());\n  if (rects.length) {\n    rs = rs.concat(rects.map(createRect));\n    return union.apply(void 0, rs);\n  }\n  let start = range.startContainer;\n  if (start.nodeType === Node.TEXT_NODE) {\n    start = start.parentNode;\n  }\n  if (start instanceof HTMLElement) {\n    const r = getElementRect(start);\n    rs.push({ ...r, x: r.maxX, width: 0 });\n  }\n  return union.apply(void 0, rs);\n}\n\n// src/from-rotation.ts\nfunction toRad(d) {\n  return d % 360 * Math.PI / 180;\n}\nfunction rotate(a, d, c) {\n  const r = toRad(d);\n  const sin = Math.sin(r);\n  const cos = Math.cos(r);\n  const x = a.x - c.x;\n  const y = a.y - c.y;\n  return {\n    x: c.x + x * cos - y * sin,\n    y: c.y + x * sin + y * cos\n  };\n}\nfunction getRotationRect(r, deg) {\n  const rr = Object.values(getRectCorners(r)).map((p) => rotate(p, deg, r.center));\n  const xs = rr.map((p) => p.x);\n  const ys = rr.map((p) => p.y);\n  const minX = Math.min(...xs);\n  const minY = Math.min(...ys);\n  const maxX = Math.max(...xs);\n  const maxY = Math.max(...ys);\n  return createRect({\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  });\n}\n\n// src/from-window.ts\nfunction getWindowRect(win, opts = {}) {\n  return createRect(getViewportRect(win, opts));\n}\nfunction getViewportRect(win, opts) {\n  const { excludeScrollbar = false } = opts;\n  const { innerWidth, innerHeight, document: doc, visualViewport } = win;\n  const width = visualViewport?.width || innerWidth;\n  const height = visualViewport?.height || innerHeight;\n  const rect = { x: 0, y: 0, width, height };\n  if (excludeScrollbar) {\n    const scrollbarWidth = innerWidth - doc.documentElement.clientWidth;\n    const scrollbarHeight = innerHeight - doc.documentElement.clientHeight;\n    rect.width -= scrollbarWidth;\n    rect.height -= scrollbarHeight;\n  }\n  return rect;\n}\n\n// src/operations.ts\nvar isSymmetric = (v) => \"dx\" in v || \"dy\" in v;\nfunction inset(r, i) {\n  const v = isSymmetric(i) ? { left: i.dx, right: i.dx, top: i.dy, bottom: i.dy } : i;\n  const { top = 0, right = 0, bottom = 0, left = 0 } = v;\n  return createRect({\n    x: r.x + left,\n    y: r.y + top,\n    width: r.width - left - right,\n    height: r.height - top - bottom\n  });\n}\nfunction expand(r, v) {\n  const value = typeof v === \"number\" ? { dx: -v, dy: -v } : v;\n  return inset(r, value);\n}\nfunction shrink(r, v) {\n  const value = typeof v === \"number\" ? { dx: -v, dy: -v } : v;\n  return inset(r, value);\n}\nfunction shift(r, o) {\n  const { x = 0, y = 0 } = o;\n  return createRect({\n    x: r.x + x,\n    y: r.y + y,\n    width: r.width,\n    height: r.height\n  });\n}\n\n// src/polygon.ts\nfunction getElementPolygon(rectValue, placement) {\n  const rect = createRect(rectValue);\n  const { top, right, left, bottom } = getRectCorners(rect);\n  const [base] = placement.split(\"-\");\n  return {\n    top: [left, top, right, bottom],\n    right: [top, right, bottom, left],\n    bottom: [top, left, bottom, right],\n    left: [right, top, left, bottom]\n  }[base];\n}\nfunction isPointInPolygon(polygon, point) {\n  const { x, y } = point;\n  let c = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const xi = polygon[i].x;\n    const yi = polygon[i].y;\n    const xj = polygon[j].x;\n    const yj = polygon[j].y;\n    if (yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi) {\n      c = !c;\n    }\n  }\n  return c;\n}\nfunction createPolygonElement() {\n  const id = \"debug-polygon\";\n  const existingPolygon = document.getElementById(id);\n  if (existingPolygon) {\n    return existingPolygon;\n  }\n  const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  Object.assign(svg.style, {\n    top: \"0\",\n    left: \"0\",\n    width: \"100%\",\n    height: \"100%\",\n    opacity: \"0.15\",\n    position: \"fixed\",\n    pointerEvents: \"none\",\n    fill: \"red\"\n  });\n  const polygon = document.createElementNS(\"http://www.w3.org/2000/svg\", \"polygon\");\n  polygon.setAttribute(\"id\", id);\n  polygon.setAttribute(\"points\", \"0,0 0,0\");\n  svg.appendChild(polygon);\n  document.body.appendChild(svg);\n  return polygon;\n}\nfunction debugPolygon(polygon) {\n  const el = createPolygonElement();\n  const points = polygon.map((point) => `${point.x},${point.y}`).join(\" \");\n  el.setAttribute(\"points\", points);\n  return () => {\n    el.remove();\n  };\n}\n\n// src/compass.ts\nvar compassDirectionMap = {\n  n: { x: 0.5, y: 0 },\n  ne: { x: 1, y: 0 },\n  e: { x: 1, y: 0.5 },\n  se: { x: 1, y: 1 },\n  s: { x: 0.5, y: 1 },\n  sw: { x: 0, y: 1 },\n  w: { x: 0, y: 0.5 },\n  nw: { x: 0, y: 0 }\n};\nvar oppositeDirectionMap = {\n  n: \"s\",\n  ne: \"sw\",\n  e: \"w\",\n  se: \"nw\",\n  s: \"n\",\n  sw: \"ne\",\n  w: \"e\",\n  nw: \"se\"\n};\n\n// src/resize.ts\nvar { sign, abs, min: min2 } = Math;\nfunction getRectExtentPoint(rect, direction) {\n  const { minX, minY, maxX, maxY, midX, midY } = rect;\n  const x = direction.includes(\"w\") ? minX : direction.includes(\"e\") ? maxX : midX;\n  const y = direction.includes(\"n\") ? minY : direction.includes(\"s\") ? maxY : midY;\n  return { x, y };\n}\nfunction getOppositeDirection(direction) {\n  return oppositeDirectionMap[direction];\n}\nfunction resizeRect(rect, offset, direction, opts) {\n  const { scalingOriginMode, lockAspectRatio } = opts;\n  const extent = getRectExtentPoint(rect, direction);\n  const oppositeDirection = getOppositeDirection(direction);\n  const oppositeExtent = getRectExtentPoint(rect, oppositeDirection);\n  if (scalingOriginMode === \"center\") {\n    offset = { x: offset.x * 2, y: offset.y * 2 };\n  }\n  const newExtent = {\n    x: extent.x + offset.x,\n    y: extent.y + offset.y\n  };\n  const multiplier = {\n    x: compassDirectionMap[direction].x * 2 - 1,\n    y: compassDirectionMap[direction].y * 2 - 1\n  };\n  const newSize = {\n    width: newExtent.x - oppositeExtent.x,\n    height: newExtent.y - oppositeExtent.y\n  };\n  const scaleX = multiplier.x * newSize.width / rect.width;\n  const scaleY = multiplier.y * newSize.height / rect.height;\n  const largestMagnitude = abs(scaleX) > abs(scaleY) ? scaleX : scaleY;\n  const scale = lockAspectRatio ? { x: largestMagnitude, y: largestMagnitude } : {\n    x: extent.x === oppositeExtent.x ? 1 : scaleX,\n    y: extent.y === oppositeExtent.y ? 1 : scaleY\n  };\n  if (extent.y === oppositeExtent.y) {\n    scale.y = abs(scale.y);\n  } else if (sign(scale.y) !== sign(scaleY)) {\n    scale.y *= -1;\n  }\n  if (extent.x === oppositeExtent.x) {\n    scale.x = abs(scale.x);\n  } else if (sign(scale.x) !== sign(scaleX)) {\n    scale.x *= -1;\n  }\n  switch (scalingOriginMode) {\n    case \"extent\":\n      return transformRect(rect, AffineTransform.scale(scale.x, scale.y, oppositeExtent), false);\n    case \"center\":\n      return transformRect(\n        rect,\n        AffineTransform.scale(scale.x, scale.y, {\n          x: rect.midX,\n          y: rect.midY\n        }),\n        false\n      );\n  }\n}\nfunction createRectFromPoints(initialPoint, finalPoint, normalized = true) {\n  if (normalized) {\n    return {\n      x: min2(finalPoint.x, initialPoint.x),\n      y: min2(finalPoint.y, initialPoint.y),\n      width: abs(finalPoint.x - initialPoint.x),\n      height: abs(finalPoint.y - initialPoint.y)\n    };\n  }\n  return {\n    x: initialPoint.x,\n    y: initialPoint.y,\n    width: finalPoint.x - initialPoint.x,\n    height: finalPoint.y - initialPoint.y\n  };\n}\nfunction transformRect(rect, transform, normalized = true) {\n  const p1 = transform.applyTo({ x: rect.minX, y: rect.minY });\n  const p2 = transform.applyTo({ x: rect.maxX, y: rect.maxY });\n  return createRectFromPoints(p1, p2, normalized);\n}\n\nexport { AffineTransform, addPoints, alignRect, clampPoint, clampSize, closest, closestSideToPoint, closestSideToRect, collisions, constrainRect, contains, containsPoint, containsRect, createPoint, createRect, debugPolygon, distance, distanceBtwEdges, distanceFromPoint, distanceFromRect, expand, fromRange, getElementPolygon, getElementRect, getPointAngle, getRectCenters, getRectCorners, getRectEdges, getRectFromPoints, getRotationRect, getViewportRect, getWindowRect, inset, intersection, intersects, isPoint, isPointEqual, isPointInPolygon, isRect, isRectEqual, isSizeEqual, isSymmetric, resizeRect, rotate, shift, shrink, subtractPoints, toRad, union };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}