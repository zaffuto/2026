{"ast":null,"code":"import { mergeProps } from '@zag-js/core';\nimport { memo, forwardRef, createElement, Children, isValidElement, cloneElement } from 'react';\nimport { composeRefs } from '../utils/compose-refs.js';\nfunction getRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nconst withAsChild = Component => {\n  const Comp = memo(forwardRef((props, ref) => {\n    const {\n      asChild,\n      children,\n      ...restProps\n    } = props;\n    if (!asChild) {\n      return createElement(Component, {\n        ...restProps,\n        ref\n      }, children);\n    }\n    const onlyChild = Children.only(children);\n    if (!isValidElement(onlyChild)) {\n      return null;\n    }\n    const childRef = getRef(onlyChild);\n    return cloneElement(onlyChild, {\n      ...mergeProps(restProps, onlyChild.props),\n      ref: ref ? composeRefs(ref, childRef) : childRef\n    });\n  }));\n  Comp.displayName = Component.displayName || Component.name;\n  return Comp;\n};\nconst jsxFactory = () => {\n  const cache = /* @__PURE__ */new Map();\n  return new Proxy(withAsChild, {\n    apply(_target, _thisArg, argArray) {\n      return withAsChild(argArray[0]);\n    },\n    get(_, element) {\n      const asElement = element;\n      if (!cache.has(asElement)) {\n        cache.set(asElement, withAsChild(asElement));\n      }\n      return cache.get(asElement);\n    }\n  });\n};\nconst ark = jsxFactory();\nexport { ark, jsxFactory };","map":{"version":3,"names":["mergeProps","memo","forwardRef","createElement","Children","isValidElement","cloneElement","composeRefs","getRef","element","getter","Object","getOwnPropertyDescriptor","props","get","mayWarn","isReactWarning","ref","withAsChild","Component","Comp","asChild","children","restProps","onlyChild","only","childRef","displayName","name","jsxFactory","cache","Map","Proxy","apply","_target","_thisArg","argArray","_","asElement","has","set","ark"],"sources":["/Users/macbook/developer/2025/2026/node_modules/@ark-ui/react/dist/components/factory.js"],"sourcesContent":["import { mergeProps } from '@zag-js/core';\nimport { memo, forwardRef, createElement, Children, isValidElement, cloneElement } from 'react';\nimport { composeRefs } from '../utils/compose-refs.js';\n\nfunction getRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nconst withAsChild = (Component) => {\n  const Comp = memo(\n    forwardRef((props, ref) => {\n      const { asChild, children, ...restProps } = props;\n      if (!asChild) {\n        return createElement(Component, { ...restProps, ref }, children);\n      }\n      const onlyChild = Children.only(children);\n      if (!isValidElement(onlyChild)) {\n        return null;\n      }\n      const childRef = getRef(onlyChild);\n      return cloneElement(onlyChild, {\n        ...mergeProps(restProps, onlyChild.props),\n        ref: ref ? composeRefs(ref, childRef) : childRef\n      });\n    })\n  );\n  Comp.displayName = Component.displayName || Component.name;\n  return Comp;\n};\nconst jsxFactory = () => {\n  const cache = /* @__PURE__ */ new Map();\n  return new Proxy(withAsChild, {\n    apply(_target, _thisArg, argArray) {\n      return withAsChild(argArray[0]);\n    },\n    get(_, element) {\n      const asElement = element;\n      if (!cache.has(asElement)) {\n        cache.set(asElement, withAsChild(asElement));\n      }\n      return cache.get(asElement);\n    }\n  });\n};\nconst ark = jsxFactory();\n\nexport { ark, jsxFactory };\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,cAAc;AACzC,SAASC,IAAI,EAAEC,UAAU,EAAEC,aAAa,EAAEC,QAAQ,EAAEC,cAAc,EAAEC,YAAY,QAAQ,OAAO;AAC/F,SAASC,WAAW,QAAQ,0BAA0B;AAEtD,SAASC,MAAMA,CAACC,OAAO,EAAE;EACvB,IAAIC,MAAM,GAAGC,MAAM,CAACC,wBAAwB,CAACH,OAAO,CAACI,KAAK,EAAE,KAAK,CAAC,EAAEC,GAAG;EACvE,IAAIC,OAAO,GAAGL,MAAM,IAAI,gBAAgB,IAAIA,MAAM,IAAIA,MAAM,CAACM,cAAc;EAC3E,IAAID,OAAO,EAAE;IACX,OAAON,OAAO,CAACQ,GAAG;EACpB;EACAP,MAAM,GAAGC,MAAM,CAACC,wBAAwB,CAACH,OAAO,EAAE,KAAK,CAAC,EAAEK,GAAG;EAC7DC,OAAO,GAAGL,MAAM,IAAI,gBAAgB,IAAIA,MAAM,IAAIA,MAAM,CAACM,cAAc;EACvE,IAAID,OAAO,EAAE;IACX,OAAON,OAAO,CAACI,KAAK,CAACI,GAAG;EAC1B;EACA,OAAOR,OAAO,CAACI,KAAK,CAACI,GAAG,IAAIR,OAAO,CAACQ,GAAG;AACzC;AACA,MAAMC,WAAW,GAAIC,SAAS,IAAK;EACjC,MAAMC,IAAI,GAAGnB,IAAI,CACfC,UAAU,CAAC,CAACW,KAAK,EAAEI,GAAG,KAAK;IACzB,MAAM;MAAEI,OAAO;MAAEC,QAAQ;MAAE,GAAGC;IAAU,CAAC,GAAGV,KAAK;IACjD,IAAI,CAACQ,OAAO,EAAE;MACZ,OAAOlB,aAAa,CAACgB,SAAS,EAAE;QAAE,GAAGI,SAAS;QAAEN;MAAI,CAAC,EAAEK,QAAQ,CAAC;IAClE;IACA,MAAME,SAAS,GAAGpB,QAAQ,CAACqB,IAAI,CAACH,QAAQ,CAAC;IACzC,IAAI,CAACjB,cAAc,CAACmB,SAAS,CAAC,EAAE;MAC9B,OAAO,IAAI;IACb;IACA,MAAME,QAAQ,GAAGlB,MAAM,CAACgB,SAAS,CAAC;IAClC,OAAOlB,YAAY,CAACkB,SAAS,EAAE;MAC7B,GAAGxB,UAAU,CAACuB,SAAS,EAAEC,SAAS,CAACX,KAAK,CAAC;MACzCI,GAAG,EAAEA,GAAG,GAAGV,WAAW,CAACU,GAAG,EAAES,QAAQ,CAAC,GAAGA;IAC1C,CAAC,CAAC;EACJ,CAAC,CACH,CAAC;EACDN,IAAI,CAACO,WAAW,GAAGR,SAAS,CAACQ,WAAW,IAAIR,SAAS,CAACS,IAAI;EAC1D,OAAOR,IAAI;AACb,CAAC;AACD,MAAMS,UAAU,GAAGA,CAAA,KAAM;EACvB,MAAMC,KAAK,GAAG,eAAgB,IAAIC,GAAG,CAAC,CAAC;EACvC,OAAO,IAAIC,KAAK,CAACd,WAAW,EAAE;IAC5Be,KAAKA,CAACC,OAAO,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;MACjC,OAAOlB,WAAW,CAACkB,QAAQ,CAAC,CAAC,CAAC,CAAC;IACjC,CAAC;IACDtB,GAAGA,CAACuB,CAAC,EAAE5B,OAAO,EAAE;MACd,MAAM6B,SAAS,GAAG7B,OAAO;MACzB,IAAI,CAACqB,KAAK,CAACS,GAAG,CAACD,SAAS,CAAC,EAAE;QACzBR,KAAK,CAACU,GAAG,CAACF,SAAS,EAAEpB,WAAW,CAACoB,SAAS,CAAC,CAAC;MAC9C;MACA,OAAOR,KAAK,CAAChB,GAAG,CAACwB,SAAS,CAAC;IAC7B;EACF,CAAC,CAAC;AACJ,CAAC;AACD,MAAMG,GAAG,GAAGZ,UAAU,CAAC,CAAC;AAExB,SAASY,GAAG,EAAEZ,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}