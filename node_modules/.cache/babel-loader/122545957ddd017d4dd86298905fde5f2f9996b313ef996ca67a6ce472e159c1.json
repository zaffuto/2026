{"ast":null,"code":"import { getDocument, getWindow, addDomEvent, raf, isFocusable, getEventTarget, isHTMLElement, contains, getNearestOverflowAncestor, isContextMenuEvent } from '@zag-js/dom-query';\nimport { callAll } from '@zag-js/utils';\n\n// src/index.ts\n\n// src/frame-utils.ts\nfunction getWindowFrames(win) {\n  const frames = {\n    each(cb) {\n      for (let i = 0; i < win.frames?.length; i += 1) {\n        const frame = win.frames[i];\n        if (frame) cb(frame);\n      }\n    },\n    addEventListener(event, listener, options) {\n      frames.each(frame => {\n        try {\n          frame.document.addEventListener(event, listener, options);\n        } catch {}\n      });\n      return () => {\n        try {\n          frames.removeEventListener(event, listener, options);\n        } catch {}\n      };\n    },\n    removeEventListener(event, listener, options) {\n      frames.each(frame => {\n        try {\n          frame.document.removeEventListener(event, listener, options);\n        } catch {}\n      });\n    }\n  };\n  return frames;\n}\nfunction getParentWindow(win) {\n  const parent = win.frameElement != null ? win.parent : null;\n  return {\n    addEventListener: (event, listener, options) => {\n      try {\n        parent?.addEventListener(event, listener, options);\n      } catch {}\n      return () => {\n        try {\n          parent?.removeEventListener(event, listener, options);\n        } catch {}\n      };\n    },\n    removeEventListener: (event, listener, options) => {\n      try {\n        parent?.removeEventListener(event, listener, options);\n      } catch {}\n    }\n  };\n}\n\n// src/index.ts\nvar POINTER_OUTSIDE_EVENT = \"pointerdown.outside\";\nvar FOCUS_OUTSIDE_EVENT = \"focus.outside\";\nfunction isComposedPathFocusable(composedPath) {\n  for (const node of composedPath) {\n    if (isHTMLElement(node) && isFocusable(node)) return true;\n  }\n  return false;\n}\nvar isPointerEvent = event => \"clientY\" in event;\nfunction isEventPointWithin(node, event) {\n  if (!isPointerEvent(event) || !node) return false;\n  const rect = node.getBoundingClientRect();\n  if (rect.width === 0 || rect.height === 0) return false;\n  return rect.top <= event.clientY && event.clientY <= rect.top + rect.height && rect.left <= event.clientX && event.clientX <= rect.left + rect.width;\n}\nfunction isPointInRect(rect, point) {\n  return rect.y <= point.y && point.y <= rect.y + rect.height && rect.x <= point.x && point.x <= rect.x + rect.width;\n}\nfunction isEventWithinScrollbar(event, ancestor) {\n  if (!ancestor || !isPointerEvent(event)) return false;\n  const isScrollableY = ancestor.scrollHeight > ancestor.clientHeight;\n  const onScrollbarY = isScrollableY && event.clientX > ancestor.offsetLeft + ancestor.clientWidth;\n  const isScrollableX = ancestor.scrollWidth > ancestor.clientWidth;\n  const onScrollbarX = isScrollableX && event.clientY > ancestor.offsetTop + ancestor.clientHeight;\n  const rect = {\n    x: ancestor.offsetLeft,\n    y: ancestor.offsetTop,\n    width: ancestor.clientWidth + (isScrollableY ? 16 : 0),\n    height: ancestor.clientHeight + (isScrollableX ? 16 : 0)\n  };\n  const point = {\n    x: event.clientX,\n    y: event.clientY\n  };\n  if (!isPointInRect(rect, point)) return false;\n  return onScrollbarY || onScrollbarX;\n}\nfunction trackInteractOutsideImpl(node, options) {\n  const {\n    exclude,\n    onFocusOutside,\n    onPointerDownOutside,\n    onInteractOutside,\n    defer\n  } = options;\n  if (!node) return;\n  const doc = getDocument(node);\n  const win = getWindow(node);\n  const frames = getWindowFrames(win);\n  const parentWin = getParentWindow(win);\n  function isEventOutside(event) {\n    const target = getEventTarget(event);\n    if (!isHTMLElement(target)) return false;\n    if (!target.isConnected) return false;\n    if (contains(node, target)) return false;\n    if (isEventPointWithin(node, event)) return false;\n    const triggerEl = doc.querySelector(`[aria-controls=\"${node.id}\"]`);\n    if (triggerEl) {\n      const triggerAncestor = getNearestOverflowAncestor(triggerEl);\n      if (isEventWithinScrollbar(event, triggerAncestor)) return false;\n    }\n    const nodeAncestor = getNearestOverflowAncestor(node);\n    if (isEventWithinScrollbar(event, nodeAncestor)) return false;\n    return !exclude?.(target);\n  }\n  const pointerdownCleanups = /* @__PURE__ */new Set();\n  function onPointerDown(event) {\n    function handler() {\n      const func = defer ? raf : v => v();\n      const composedPath = event.composedPath?.() ?? [event.target];\n      func(() => {\n        if (!node || !isEventOutside(event)) return;\n        if (onPointerDownOutside || onInteractOutside) {\n          const handler2 = callAll(onPointerDownOutside, onInteractOutside);\n          node.addEventListener(POINTER_OUTSIDE_EVENT, handler2, {\n            once: true\n          });\n        }\n        fireCustomEvent(node, POINTER_OUTSIDE_EVENT, {\n          bubbles: false,\n          cancelable: true,\n          detail: {\n            originalEvent: event,\n            contextmenu: isContextMenuEvent(event),\n            focusable: isComposedPathFocusable(composedPath)\n          }\n        });\n      });\n    }\n    if (event.pointerType === \"touch\") {\n      pointerdownCleanups.forEach(fn => fn());\n      pointerdownCleanups.add(addDomEvent(doc, \"click\", handler, {\n        once: true\n      }));\n      pointerdownCleanups.add(parentWin.addEventListener(\"click\", handler, {\n        once: true\n      }));\n      pointerdownCleanups.add(frames.addEventListener(\"click\", handler, {\n        once: true\n      }));\n    } else {\n      handler();\n    }\n  }\n  const cleanups = /* @__PURE__ */new Set();\n  const timer = setTimeout(() => {\n    cleanups.add(addDomEvent(doc, \"pointerdown\", onPointerDown, true));\n    cleanups.add(parentWin.addEventListener(\"pointerdown\", onPointerDown, true));\n    cleanups.add(frames.addEventListener(\"pointerdown\", onPointerDown, true));\n  }, 0);\n  function onFocusin(event) {\n    const func = defer ? raf : v => v();\n    func(() => {\n      if (!node || !isEventOutside(event)) return;\n      if (onFocusOutside || onInteractOutside) {\n        const handler = callAll(onFocusOutside, onInteractOutside);\n        node.addEventListener(FOCUS_OUTSIDE_EVENT, handler, {\n          once: true\n        });\n      }\n      fireCustomEvent(node, FOCUS_OUTSIDE_EVENT, {\n        bubbles: false,\n        cancelable: true,\n        detail: {\n          originalEvent: event,\n          contextmenu: false,\n          focusable: isFocusable(getEventTarget(event))\n        }\n      });\n    });\n  }\n  cleanups.add(addDomEvent(doc, \"focusin\", onFocusin, true));\n  cleanups.add(parentWin.addEventListener(\"focusin\", onFocusin, true));\n  cleanups.add(frames.addEventListener(\"focusin\", onFocusin, true));\n  return () => {\n    clearTimeout(timer);\n    pointerdownCleanups.forEach(fn => fn());\n    cleanups.forEach(fn => fn());\n  };\n}\nfunction trackInteractOutside(nodeOrFn, options) {\n  const {\n    defer\n  } = options;\n  const func = defer ? raf : v => v();\n  const cleanups = [];\n  cleanups.push(func(() => {\n    const node = typeof nodeOrFn === \"function\" ? nodeOrFn() : nodeOrFn;\n    cleanups.push(trackInteractOutsideImpl(node, options));\n  }));\n  return () => {\n    cleanups.forEach(fn => fn?.());\n  };\n}\nfunction fireCustomEvent(el, type, init) {\n  const win = el.ownerDocument.defaultView || window;\n  const event = new win.CustomEvent(type, init);\n  return el.dispatchEvent(event);\n}\nexport { trackInteractOutside };","map":{"version":3,"names":["getDocument","getWindow","addDomEvent","raf","isFocusable","getEventTarget","isHTMLElement","contains","getNearestOverflowAncestor","isContextMenuEvent","callAll","getWindowFrames","win","frames","each","cb","i","length","frame","addEventListener","event","listener","options","document","removeEventListener","getParentWindow","parent","frameElement","POINTER_OUTSIDE_EVENT","FOCUS_OUTSIDE_EVENT","isComposedPathFocusable","composedPath","node","isPointerEvent","isEventPointWithin","rect","getBoundingClientRect","width","height","top","clientY","left","clientX","isPointInRect","point","y","x","isEventWithinScrollbar","ancestor","isScrollableY","scrollHeight","clientHeight","onScrollbarY","offsetLeft","clientWidth","isScrollableX","scrollWidth","onScrollbarX","offsetTop","trackInteractOutsideImpl","exclude","onFocusOutside","onPointerDownOutside","onInteractOutside","defer","doc","parentWin","isEventOutside","target","isConnected","triggerEl","querySelector","id","triggerAncestor","nodeAncestor","pointerdownCleanups","Set","onPointerDown","handler","func","v","handler2","once","fireCustomEvent","bubbles","cancelable","detail","originalEvent","contextmenu","focusable","pointerType","forEach","fn","add","cleanups","timer","setTimeout","onFocusin","clearTimeout","trackInteractOutside","nodeOrFn","push","el","type","init","ownerDocument","defaultView","window","CustomEvent","dispatchEvent"],"sources":["/Users/macbook/developer/2025/2026/node_modules/@zag-js/interact-outside/dist/index.mjs"],"sourcesContent":["import { getDocument, getWindow, addDomEvent, raf, isFocusable, getEventTarget, isHTMLElement, contains, getNearestOverflowAncestor, isContextMenuEvent } from '@zag-js/dom-query';\nimport { callAll } from '@zag-js/utils';\n\n// src/index.ts\n\n// src/frame-utils.ts\nfunction getWindowFrames(win) {\n  const frames = {\n    each(cb) {\n      for (let i = 0; i < win.frames?.length; i += 1) {\n        const frame = win.frames[i];\n        if (frame) cb(frame);\n      }\n    },\n    addEventListener(event, listener, options) {\n      frames.each((frame) => {\n        try {\n          frame.document.addEventListener(event, listener, options);\n        } catch {\n        }\n      });\n      return () => {\n        try {\n          frames.removeEventListener(event, listener, options);\n        } catch {\n        }\n      };\n    },\n    removeEventListener(event, listener, options) {\n      frames.each((frame) => {\n        try {\n          frame.document.removeEventListener(event, listener, options);\n        } catch {\n        }\n      });\n    }\n  };\n  return frames;\n}\nfunction getParentWindow(win) {\n  const parent = win.frameElement != null ? win.parent : null;\n  return {\n    addEventListener: (event, listener, options) => {\n      try {\n        parent?.addEventListener(event, listener, options);\n      } catch {\n      }\n      return () => {\n        try {\n          parent?.removeEventListener(event, listener, options);\n        } catch {\n        }\n      };\n    },\n    removeEventListener: (event, listener, options) => {\n      try {\n        parent?.removeEventListener(event, listener, options);\n      } catch {\n      }\n    }\n  };\n}\n\n// src/index.ts\nvar POINTER_OUTSIDE_EVENT = \"pointerdown.outside\";\nvar FOCUS_OUTSIDE_EVENT = \"focus.outside\";\nfunction isComposedPathFocusable(composedPath) {\n  for (const node of composedPath) {\n    if (isHTMLElement(node) && isFocusable(node)) return true;\n  }\n  return false;\n}\nvar isPointerEvent = (event) => \"clientY\" in event;\nfunction isEventPointWithin(node, event) {\n  if (!isPointerEvent(event) || !node) return false;\n  const rect = node.getBoundingClientRect();\n  if (rect.width === 0 || rect.height === 0) return false;\n  return rect.top <= event.clientY && event.clientY <= rect.top + rect.height && rect.left <= event.clientX && event.clientX <= rect.left + rect.width;\n}\nfunction isPointInRect(rect, point) {\n  return rect.y <= point.y && point.y <= rect.y + rect.height && rect.x <= point.x && point.x <= rect.x + rect.width;\n}\nfunction isEventWithinScrollbar(event, ancestor) {\n  if (!ancestor || !isPointerEvent(event)) return false;\n  const isScrollableY = ancestor.scrollHeight > ancestor.clientHeight;\n  const onScrollbarY = isScrollableY && event.clientX > ancestor.offsetLeft + ancestor.clientWidth;\n  const isScrollableX = ancestor.scrollWidth > ancestor.clientWidth;\n  const onScrollbarX = isScrollableX && event.clientY > ancestor.offsetTop + ancestor.clientHeight;\n  const rect = {\n    x: ancestor.offsetLeft,\n    y: ancestor.offsetTop,\n    width: ancestor.clientWidth + (isScrollableY ? 16 : 0),\n    height: ancestor.clientHeight + (isScrollableX ? 16 : 0)\n  };\n  const point = {\n    x: event.clientX,\n    y: event.clientY\n  };\n  if (!isPointInRect(rect, point)) return false;\n  return onScrollbarY || onScrollbarX;\n}\nfunction trackInteractOutsideImpl(node, options) {\n  const { exclude, onFocusOutside, onPointerDownOutside, onInteractOutside, defer } = options;\n  if (!node) return;\n  const doc = getDocument(node);\n  const win = getWindow(node);\n  const frames = getWindowFrames(win);\n  const parentWin = getParentWindow(win);\n  function isEventOutside(event) {\n    const target = getEventTarget(event);\n    if (!isHTMLElement(target)) return false;\n    if (!target.isConnected) return false;\n    if (contains(node, target)) return false;\n    if (isEventPointWithin(node, event)) return false;\n    const triggerEl = doc.querySelector(`[aria-controls=\"${node.id}\"]`);\n    if (triggerEl) {\n      const triggerAncestor = getNearestOverflowAncestor(triggerEl);\n      if (isEventWithinScrollbar(event, triggerAncestor)) return false;\n    }\n    const nodeAncestor = getNearestOverflowAncestor(node);\n    if (isEventWithinScrollbar(event, nodeAncestor)) return false;\n    return !exclude?.(target);\n  }\n  const pointerdownCleanups = /* @__PURE__ */ new Set();\n  function onPointerDown(event) {\n    function handler() {\n      const func = defer ? raf : (v) => v();\n      const composedPath = event.composedPath?.() ?? [event.target];\n      func(() => {\n        if (!node || !isEventOutside(event)) return;\n        if (onPointerDownOutside || onInteractOutside) {\n          const handler2 = callAll(onPointerDownOutside, onInteractOutside);\n          node.addEventListener(POINTER_OUTSIDE_EVENT, handler2, { once: true });\n        }\n        fireCustomEvent(node, POINTER_OUTSIDE_EVENT, {\n          bubbles: false,\n          cancelable: true,\n          detail: {\n            originalEvent: event,\n            contextmenu: isContextMenuEvent(event),\n            focusable: isComposedPathFocusable(composedPath)\n          }\n        });\n      });\n    }\n    if (event.pointerType === \"touch\") {\n      pointerdownCleanups.forEach((fn) => fn());\n      pointerdownCleanups.add(addDomEvent(doc, \"click\", handler, { once: true }));\n      pointerdownCleanups.add(parentWin.addEventListener(\"click\", handler, { once: true }));\n      pointerdownCleanups.add(frames.addEventListener(\"click\", handler, { once: true }));\n    } else {\n      handler();\n    }\n  }\n  const cleanups = /* @__PURE__ */ new Set();\n  const timer = setTimeout(() => {\n    cleanups.add(addDomEvent(doc, \"pointerdown\", onPointerDown, true));\n    cleanups.add(parentWin.addEventListener(\"pointerdown\", onPointerDown, true));\n    cleanups.add(frames.addEventListener(\"pointerdown\", onPointerDown, true));\n  }, 0);\n  function onFocusin(event) {\n    const func = defer ? raf : (v) => v();\n    func(() => {\n      if (!node || !isEventOutside(event)) return;\n      if (onFocusOutside || onInteractOutside) {\n        const handler = callAll(onFocusOutside, onInteractOutside);\n        node.addEventListener(FOCUS_OUTSIDE_EVENT, handler, { once: true });\n      }\n      fireCustomEvent(node, FOCUS_OUTSIDE_EVENT, {\n        bubbles: false,\n        cancelable: true,\n        detail: {\n          originalEvent: event,\n          contextmenu: false,\n          focusable: isFocusable(getEventTarget(event))\n        }\n      });\n    });\n  }\n  cleanups.add(addDomEvent(doc, \"focusin\", onFocusin, true));\n  cleanups.add(parentWin.addEventListener(\"focusin\", onFocusin, true));\n  cleanups.add(frames.addEventListener(\"focusin\", onFocusin, true));\n  return () => {\n    clearTimeout(timer);\n    pointerdownCleanups.forEach((fn) => fn());\n    cleanups.forEach((fn) => fn());\n  };\n}\nfunction trackInteractOutside(nodeOrFn, options) {\n  const { defer } = options;\n  const func = defer ? raf : (v) => v();\n  const cleanups = [];\n  cleanups.push(\n    func(() => {\n      const node = typeof nodeOrFn === \"function\" ? nodeOrFn() : nodeOrFn;\n      cleanups.push(trackInteractOutsideImpl(node, options));\n    })\n  );\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n  };\n}\nfunction fireCustomEvent(el, type, init) {\n  const win = el.ownerDocument.defaultView || window;\n  const event = new win.CustomEvent(type, init);\n  return el.dispatchEvent(event);\n}\n\nexport { trackInteractOutside };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}