{"ast":null,"code":"import { contains, raf, addDomEvent, getDocument, waitForElements, setStyle, getEventTarget, isHTMLElement } from '@zag-js/dom-query';\nimport { trackInteractOutside } from '@zag-js/interact-outside';\nimport { isFunction, warn } from '@zag-js/utils';\n\n// src/dismissable-layer.ts\nfunction trackEscapeKeydown(node, fn) {\n  const handleKeyDown = event => {\n    if (event.key !== \"Escape\") return;\n    if (event.isComposing) return;\n    fn?.(event);\n  };\n  return addDomEvent(getDocument(node), \"keydown\", handleKeyDown, {\n    capture: true\n  });\n}\nvar layerStack = {\n  layers: [],\n  branches: [],\n  count() {\n    return this.layers.length;\n  },\n  pointerBlockingLayers() {\n    return this.layers.filter(layer => layer.pointerBlocking);\n  },\n  topMostPointerBlockingLayer() {\n    return [...this.pointerBlockingLayers()].slice(-1)[0];\n  },\n  hasPointerBlockingLayer() {\n    return this.pointerBlockingLayers().length > 0;\n  },\n  isBelowPointerBlockingLayer(node) {\n    const index = this.indexOf(node);\n    const highestBlockingIndex = this.topMostPointerBlockingLayer() ? this.indexOf(this.topMostPointerBlockingLayer()?.node) : -1;\n    return index < highestBlockingIndex;\n  },\n  isTopMost(node) {\n    const layer = this.layers[this.count() - 1];\n    return layer?.node === node;\n  },\n  getNestedLayers(node) {\n    return Array.from(this.layers).slice(this.indexOf(node) + 1);\n  },\n  isInNestedLayer(node, target) {\n    return this.getNestedLayers(node).some(layer => contains(layer.node, target));\n  },\n  isInBranch(target) {\n    return Array.from(this.branches).some(branch => contains(branch, target));\n  },\n  add(layer) {\n    const num = this.layers.push(layer);\n    layer.node.style.setProperty(\"--layer-index\", `${num}`);\n  },\n  addBranch(node) {\n    this.branches.push(node);\n  },\n  remove(node) {\n    const index = this.indexOf(node);\n    if (index < 0) return;\n    if (index < this.count() - 1) {\n      const _layers = this.getNestedLayers(node);\n      _layers.forEach(layer => layer.dismiss());\n    }\n    this.layers.splice(index, 1);\n    node.style.removeProperty(\"--layer-index\");\n  },\n  removeBranch(node) {\n    const index = this.branches.indexOf(node);\n    if (index >= 0) this.branches.splice(index, 1);\n  },\n  indexOf(node) {\n    return this.layers.findIndex(layer => layer.node === node);\n  },\n  dismiss(node) {\n    this.layers[this.indexOf(node)]?.dismiss();\n  },\n  clear() {\n    this.remove(this.layers[0].node);\n  }\n};\nvar originalBodyPointerEvents;\nfunction assignPointerEventToLayers() {\n  layerStack.layers.forEach(({\n    node\n  }) => {\n    node.style.pointerEvents = layerStack.isBelowPointerBlockingLayer(node) ? \"none\" : \"auto\";\n  });\n}\nfunction clearPointerEvent(node) {\n  node.style.pointerEvents = \"\";\n}\nfunction disablePointerEventsOutside(node, persistentElements) {\n  const doc = getDocument(node);\n  const cleanups = [];\n  if (layerStack.hasPointerBlockingLayer() && !doc.body.hasAttribute(\"data-inert\")) {\n    originalBodyPointerEvents = document.body.style.pointerEvents;\n    queueMicrotask(() => {\n      doc.body.style.pointerEvents = \"none\";\n      doc.body.setAttribute(\"data-inert\", \"\");\n    });\n  }\n  if (persistentElements) {\n    const persistedCleanup = waitForElements(persistentElements, el => {\n      cleanups.push(setStyle(el, {\n        pointerEvents: \"auto\"\n      }));\n    });\n    cleanups.push(persistedCleanup);\n  }\n  return () => {\n    if (layerStack.hasPointerBlockingLayer()) return;\n    queueMicrotask(() => {\n      doc.body.style.pointerEvents = originalBodyPointerEvents;\n      doc.body.removeAttribute(\"data-inert\");\n      if (doc.body.style.length === 0) doc.body.removeAttribute(\"style\");\n    });\n    cleanups.forEach(fn => fn());\n  };\n}\n\n// src/dismissable-layer.ts\nfunction trackDismissableElementImpl(node, options) {\n  if (!node) {\n    warn(\"[@zag-js/dismissable] node is `null` or `undefined`\");\n    return;\n  }\n  const {\n    onDismiss,\n    pointerBlocking,\n    exclude: excludeContainers,\n    debug\n  } = options;\n  const layer = {\n    dismiss: onDismiss,\n    node,\n    pointerBlocking\n  };\n  layerStack.add(layer);\n  assignPointerEventToLayers();\n  function onPointerDownOutside(event) {\n    const target = getEventTarget(event.detail.originalEvent);\n    if (layerStack.isBelowPointerBlockingLayer(node) || layerStack.isInBranch(target)) return;\n    options.onPointerDownOutside?.(event);\n    options.onInteractOutside?.(event);\n    if (event.defaultPrevented) return;\n    if (debug) {\n      console.log(\"onPointerDownOutside:\", event.detail.originalEvent);\n    }\n    onDismiss?.();\n  }\n  function onFocusOutside(event) {\n    const target = getEventTarget(event.detail.originalEvent);\n    if (layerStack.isInBranch(target)) return;\n    options.onFocusOutside?.(event);\n    options.onInteractOutside?.(event);\n    if (event.defaultPrevented) return;\n    if (debug) {\n      console.log(\"onFocusOutside:\", event.detail.originalEvent);\n    }\n    onDismiss?.();\n  }\n  function onEscapeKeyDown(event) {\n    if (!layerStack.isTopMost(node)) return;\n    options.onEscapeKeyDown?.(event);\n    if (!event.defaultPrevented && onDismiss) {\n      event.preventDefault();\n      onDismiss();\n    }\n  }\n  function exclude(target) {\n    if (!node) return false;\n    const containers = typeof excludeContainers === \"function\" ? excludeContainers() : excludeContainers;\n    const _containers = Array.isArray(containers) ? containers : [containers];\n    const persistentElements = options.persistentElements?.map(fn => fn()).filter(isHTMLElement);\n    if (persistentElements) _containers.push(...persistentElements);\n    return _containers.some(node2 => contains(node2, target)) || layerStack.isInNestedLayer(node, target);\n  }\n  const cleanups = [pointerBlocking ? disablePointerEventsOutside(node, options.persistentElements) : void 0, trackEscapeKeydown(node, onEscapeKeyDown), trackInteractOutside(node, {\n    exclude,\n    onFocusOutside,\n    onPointerDownOutside,\n    defer: options.defer\n  })];\n  return () => {\n    layerStack.remove(node);\n    assignPointerEventToLayers();\n    clearPointerEvent(node);\n    cleanups.forEach(fn => fn?.());\n  };\n}\nfunction trackDismissableElement(nodeOrFn, options) {\n  const {\n    defer\n  } = options;\n  const func = defer ? raf : v => v();\n  const cleanups = [];\n  cleanups.push(func(() => {\n    const node = isFunction(nodeOrFn) ? nodeOrFn() : nodeOrFn;\n    cleanups.push(trackDismissableElementImpl(node, options));\n  }));\n  return () => {\n    func(() => {\n      cleanups.forEach(fn => fn?.());\n    });\n  };\n}\nfunction trackDismissableBranch(nodeOrFn, options = {}) {\n  const {\n    defer\n  } = options;\n  const func = defer ? raf : v => v();\n  const cleanups = [];\n  cleanups.push(func(() => {\n    const node = isFunction(nodeOrFn) ? nodeOrFn() : nodeOrFn;\n    if (!node) {\n      warn(\"[@zag-js/dismissable] branch node is `null` or `undefined`\");\n      return;\n    }\n    layerStack.addBranch(node);\n    cleanups.push(() => {\n      layerStack.removeBranch(node);\n    });\n  }));\n  return () => {\n    func(() => {\n      cleanups.forEach(fn => fn?.());\n    });\n  };\n}\nexport { trackDismissableBranch, trackDismissableElement };","map":{"version":3,"names":["contains","raf","addDomEvent","getDocument","waitForElements","setStyle","getEventTarget","isHTMLElement","trackInteractOutside","isFunction","warn","trackEscapeKeydown","node","fn","handleKeyDown","event","key","isComposing","capture","layerStack","layers","branches","count","length","pointerBlockingLayers","filter","layer","pointerBlocking","topMostPointerBlockingLayer","slice","hasPointerBlockingLayer","isBelowPointerBlockingLayer","index","indexOf","highestBlockingIndex","isTopMost","getNestedLayers","Array","from","isInNestedLayer","target","some","isInBranch","branch","add","num","push","style","setProperty","addBranch","remove","_layers","forEach","dismiss","splice","removeProperty","removeBranch","findIndex","clear","originalBodyPointerEvents","assignPointerEventToLayers","pointerEvents","clearPointerEvent","disablePointerEventsOutside","persistentElements","doc","cleanups","body","hasAttribute","document","queueMicrotask","setAttribute","persistedCleanup","el","removeAttribute","trackDismissableElementImpl","options","onDismiss","exclude","excludeContainers","debug","onPointerDownOutside","detail","originalEvent","onInteractOutside","defaultPrevented","console","log","onFocusOutside","onEscapeKeyDown","preventDefault","containers","_containers","isArray","map","node2","defer","trackDismissableElement","nodeOrFn","func","v","trackDismissableBranch"],"sources":["/Users/macbook/developer/2025/2026/node_modules/@zag-js/dismissable/dist/index.mjs"],"sourcesContent":["import { contains, raf, addDomEvent, getDocument, waitForElements, setStyle, getEventTarget, isHTMLElement } from '@zag-js/dom-query';\nimport { trackInteractOutside } from '@zag-js/interact-outside';\nimport { isFunction, warn } from '@zag-js/utils';\n\n// src/dismissable-layer.ts\nfunction trackEscapeKeydown(node, fn) {\n  const handleKeyDown = (event) => {\n    if (event.key !== \"Escape\") return;\n    if (event.isComposing) return;\n    fn?.(event);\n  };\n  return addDomEvent(getDocument(node), \"keydown\", handleKeyDown, { capture: true });\n}\nvar layerStack = {\n  layers: [],\n  branches: [],\n  count() {\n    return this.layers.length;\n  },\n  pointerBlockingLayers() {\n    return this.layers.filter((layer) => layer.pointerBlocking);\n  },\n  topMostPointerBlockingLayer() {\n    return [...this.pointerBlockingLayers()].slice(-1)[0];\n  },\n  hasPointerBlockingLayer() {\n    return this.pointerBlockingLayers().length > 0;\n  },\n  isBelowPointerBlockingLayer(node) {\n    const index = this.indexOf(node);\n    const highestBlockingIndex = this.topMostPointerBlockingLayer() ? this.indexOf(this.topMostPointerBlockingLayer()?.node) : -1;\n    return index < highestBlockingIndex;\n  },\n  isTopMost(node) {\n    const layer = this.layers[this.count() - 1];\n    return layer?.node === node;\n  },\n  getNestedLayers(node) {\n    return Array.from(this.layers).slice(this.indexOf(node) + 1);\n  },\n  isInNestedLayer(node, target) {\n    return this.getNestedLayers(node).some((layer) => contains(layer.node, target));\n  },\n  isInBranch(target) {\n    return Array.from(this.branches).some((branch) => contains(branch, target));\n  },\n  add(layer) {\n    const num = this.layers.push(layer);\n    layer.node.style.setProperty(\"--layer-index\", `${num}`);\n  },\n  addBranch(node) {\n    this.branches.push(node);\n  },\n  remove(node) {\n    const index = this.indexOf(node);\n    if (index < 0) return;\n    if (index < this.count() - 1) {\n      const _layers = this.getNestedLayers(node);\n      _layers.forEach((layer) => layer.dismiss());\n    }\n    this.layers.splice(index, 1);\n    node.style.removeProperty(\"--layer-index\");\n  },\n  removeBranch(node) {\n    const index = this.branches.indexOf(node);\n    if (index >= 0) this.branches.splice(index, 1);\n  },\n  indexOf(node) {\n    return this.layers.findIndex((layer) => layer.node === node);\n  },\n  dismiss(node) {\n    this.layers[this.indexOf(node)]?.dismiss();\n  },\n  clear() {\n    this.remove(this.layers[0].node);\n  }\n};\nvar originalBodyPointerEvents;\nfunction assignPointerEventToLayers() {\n  layerStack.layers.forEach(({ node }) => {\n    node.style.pointerEvents = layerStack.isBelowPointerBlockingLayer(node) ? \"none\" : \"auto\";\n  });\n}\nfunction clearPointerEvent(node) {\n  node.style.pointerEvents = \"\";\n}\nfunction disablePointerEventsOutside(node, persistentElements) {\n  const doc = getDocument(node);\n  const cleanups = [];\n  if (layerStack.hasPointerBlockingLayer() && !doc.body.hasAttribute(\"data-inert\")) {\n    originalBodyPointerEvents = document.body.style.pointerEvents;\n    queueMicrotask(() => {\n      doc.body.style.pointerEvents = \"none\";\n      doc.body.setAttribute(\"data-inert\", \"\");\n    });\n  }\n  if (persistentElements) {\n    const persistedCleanup = waitForElements(persistentElements, (el) => {\n      cleanups.push(setStyle(el, { pointerEvents: \"auto\" }));\n    });\n    cleanups.push(persistedCleanup);\n  }\n  return () => {\n    if (layerStack.hasPointerBlockingLayer()) return;\n    queueMicrotask(() => {\n      doc.body.style.pointerEvents = originalBodyPointerEvents;\n      doc.body.removeAttribute(\"data-inert\");\n      if (doc.body.style.length === 0) doc.body.removeAttribute(\"style\");\n    });\n    cleanups.forEach((fn) => fn());\n  };\n}\n\n// src/dismissable-layer.ts\nfunction trackDismissableElementImpl(node, options) {\n  if (!node) {\n    warn(\"[@zag-js/dismissable] node is `null` or `undefined`\");\n    return;\n  }\n  const { onDismiss, pointerBlocking, exclude: excludeContainers, debug } = options;\n  const layer = { dismiss: onDismiss, node, pointerBlocking };\n  layerStack.add(layer);\n  assignPointerEventToLayers();\n  function onPointerDownOutside(event) {\n    const target = getEventTarget(event.detail.originalEvent);\n    if (layerStack.isBelowPointerBlockingLayer(node) || layerStack.isInBranch(target)) return;\n    options.onPointerDownOutside?.(event);\n    options.onInteractOutside?.(event);\n    if (event.defaultPrevented) return;\n    if (debug) {\n      console.log(\"onPointerDownOutside:\", event.detail.originalEvent);\n    }\n    onDismiss?.();\n  }\n  function onFocusOutside(event) {\n    const target = getEventTarget(event.detail.originalEvent);\n    if (layerStack.isInBranch(target)) return;\n    options.onFocusOutside?.(event);\n    options.onInteractOutside?.(event);\n    if (event.defaultPrevented) return;\n    if (debug) {\n      console.log(\"onFocusOutside:\", event.detail.originalEvent);\n    }\n    onDismiss?.();\n  }\n  function onEscapeKeyDown(event) {\n    if (!layerStack.isTopMost(node)) return;\n    options.onEscapeKeyDown?.(event);\n    if (!event.defaultPrevented && onDismiss) {\n      event.preventDefault();\n      onDismiss();\n    }\n  }\n  function exclude(target) {\n    if (!node) return false;\n    const containers = typeof excludeContainers === \"function\" ? excludeContainers() : excludeContainers;\n    const _containers = Array.isArray(containers) ? containers : [containers];\n    const persistentElements = options.persistentElements?.map((fn) => fn()).filter(isHTMLElement);\n    if (persistentElements) _containers.push(...persistentElements);\n    return _containers.some((node2) => contains(node2, target)) || layerStack.isInNestedLayer(node, target);\n  }\n  const cleanups = [\n    pointerBlocking ? disablePointerEventsOutside(node, options.persistentElements) : void 0,\n    trackEscapeKeydown(node, onEscapeKeyDown),\n    trackInteractOutside(node, { exclude, onFocusOutside, onPointerDownOutside, defer: options.defer })\n  ];\n  return () => {\n    layerStack.remove(node);\n    assignPointerEventToLayers();\n    clearPointerEvent(node);\n    cleanups.forEach((fn) => fn?.());\n  };\n}\nfunction trackDismissableElement(nodeOrFn, options) {\n  const { defer } = options;\n  const func = defer ? raf : (v) => v();\n  const cleanups = [];\n  cleanups.push(\n    func(() => {\n      const node = isFunction(nodeOrFn) ? nodeOrFn() : nodeOrFn;\n      cleanups.push(trackDismissableElementImpl(node, options));\n    })\n  );\n  return () => {\n    func(() => {\n      cleanups.forEach((fn) => fn?.());\n    });\n  };\n}\nfunction trackDismissableBranch(nodeOrFn, options = {}) {\n  const { defer } = options;\n  const func = defer ? raf : (v) => v();\n  const cleanups = [];\n  cleanups.push(\n    func(() => {\n      const node = isFunction(nodeOrFn) ? nodeOrFn() : nodeOrFn;\n      if (!node) {\n        warn(\"[@zag-js/dismissable] branch node is `null` or `undefined`\");\n        return;\n      }\n      layerStack.addBranch(node);\n      cleanups.push(() => {\n        layerStack.removeBranch(node);\n      });\n    })\n  );\n  return () => {\n    func(() => {\n      cleanups.forEach((fn) => fn?.());\n    });\n  };\n}\n\nexport { trackDismissableBranch, trackDismissableElement };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}